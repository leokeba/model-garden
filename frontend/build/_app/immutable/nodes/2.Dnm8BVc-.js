import"../chunks/DsnmJJEf.js";import{p as Vt,s as E,a as yt,o as Lt,f as x,h as Et,b as i,c as Kt,$ as Yt,d as K,e,g as s,n as h,t as y,r as t,i as r,j as qt,k as nt,l as b,m as c,u as bt}from"../chunks/ZXdHezLC.js";import{i as B}from"../chunks/CnQbhIlQ.js";import{e as wt,i as Pt}from"../chunks/C2YVWTdS.js";import{B as j,a as ct,C as S}from"../chunks/ByOzdI1s.js";import{B as Y}from"../chunks/xrVGPLka.js";var Ht=x('<div class="text-center py-12"><div class="inline-block w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"></div> <p class="mt-2 text-gray-600">Loading dashboard...</p></div>'),It=x('<div class="text-center py-12"><div class="text-red-600 text-lg"> </div> <!></div>'),Ot=x('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center"><span class="text-primary-600 text-lg">ðŸ“¦</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Models</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Qt=x('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-carbon-100 rounded-lg flex items-center justify-center"><span class="text-carbon-600 text-lg">âš¡</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Training Jobs</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Wt=x('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"><span class="text-green-600 text-lg">ðŸš€</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Active Jobs</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Xt=x('<h3 class="text-lg font-semibold text-gray-900 mb-4">System Status</h3> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"><div><div class="text-sm text-gray-500">CPU Cores</div> <div class="font-medium"> </div></div> <div><div class="text-sm text-gray-500">Memory</div> <div class="font-medium"> </div></div> <div><div class="text-sm text-gray-500">GPU</div> <div class="font-medium"><!></div></div> <div><div class="text-sm text-gray-500">Disk</div> <div class="font-medium"> </div></div></div>',1),Zt=x('<div class="mb-8"><!></div>'),te=x('<div class="text-center py-8"><div class="text-gray-400 text-4xl mb-2">ðŸ“¦</div> <p class="text-gray-500">No models yet</p> <!></div>'),ee=x('<p class="text-xs text-gray-400"> </p>'),se=x('<div class="flex items-center justify-between"><div><h4 class="font-medium text-gray-900"> </h4> <p class="text-sm text-gray-500"> </p> <!></div> <div class="text-right"><!> <p class="text-xs text-gray-400 mt-1"> </p></div></div>'),ae=x('<div class="space-y-3"></div>'),re=x('<div class="text-center py-8"><div class="text-gray-400 text-4xl mb-2">âš¡</div> <p class="text-gray-500">No training jobs yet</p> <!></div>'),ie=x('<div class="text-xs text-gray-400"> </div>'),ve=x('<div class="flex items-center justify-between"><div><h4 class="font-medium text-gray-900"> </h4> <p class="text-sm text-gray-500"> </p> <!></div> <div class="text-right"><!> <p class="text-xs text-gray-400 mt-1"> </p></div></div>'),de=x('<div class="space-y-3"></div>'),le=x('<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"><!> <!> <!></div> <!> <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><div><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-semibold text-gray-900">Recent Models</h2> <!></div> <!></div> <div><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-semibold text-gray-900">Recent Training Jobs</h2> <!></div> <!></div></div>',1),oe=x('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div class="flex items-center"><h1 class="text-3xl font-bold text-gray-900">ðŸŒ± Model Garden</h1> <!></div> <div class="flex gap-3"><!> <!></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div>');function fe(Mt,kt){Vt(kt,!0);let W=E(yt([])),X=E(yt([])),w=E(null),_t=E(!0),Z=E("");Lt(async()=>{try{const[d,p,P]=await Promise.all([ct.getModels(),ct.getTrainingJobs(),ct.getSystemStatus()]);K(W,d.items,!0),K(X,p.items.slice(0,5),!0),K(w,P,!0)}catch(d){K(Z,d instanceof Error?d.message:"Failed to load data",!0)}finally{K(_t,!1)}});function q(d){if(d===0)return"0 Bytes";const p=1024,P=["Bytes","KB","MB","GB"],H=Math.floor(Math.log(d)/Math.log(p));return parseFloat((d/Math.pow(p,H)).toFixed(2))+" "+P[H]}function xt(d){return d==="unknown"?"Unknown":new Date(d).toLocaleDateString()}var tt=oe();Et(d=>{Yt.title="Model Garden - Dashboard"});var et=e(tt),mt=e(et),ut=e(mt),st=e(ut),zt=s(e(st),2);Y(zt,{variant:"info",size:"sm",class:"ml-3",children:(d,p)=>{h();var P=y("Dashboard");i(d,P)},$$slots:{default:!0}}),t(st);var ft=s(st,2),gt=e(ft);j(gt,{href:"/training/new",variant:"primary",children:(d,p)=>{h();var P=y("+ New Training");i(d,P)},$$slots:{default:!0}});var Bt=s(gt,2);j(Bt,{href:"/models",variant:"secondary",children:(d,p)=>{h();var P=y("View Models");i(d,P)},$$slots:{default:!0}}),t(ft),t(ut),t(mt),t(et);var pt=s(et,2),St=e(pt);{var Dt=d=>{var p=Ht();i(d,p)},Rt=d=>{var p=qt(),P=nt(p);{var H=C=>{var F=It(),D=e(F),I=e(D,!0);t(D);var O=s(D,2);j(O,{onclick:()=>window.location.reload(),variant:"primary",class:"mt-4",children:(at,rt)=>{h();var it=y("Retry");i(at,it)},$$slots:{default:!0}}),t(F),b(()=>c(I,r(Z))),i(C,F)},Tt=C=>{var F=le(),D=nt(F),I=e(D);S(I,{children:(v,o)=>{var l=Ot(),a=s(e(l),2),_=s(e(a),2),f=e(_,!0);t(_),t(a),t(l),b(()=>c(f,r(w)?.storage.models_count||0)),i(v,l)},$$slots:{default:!0}});var O=s(I,2);S(O,{children:(v,o)=>{var l=Qt(),a=s(e(l),2),_=s(e(a),2),f=e(_,!0);t(_),t(a),t(l),b(()=>c(f,r(w)?.storage.training_jobs_count||0)),i(v,l)},$$slots:{default:!0}});var at=s(O,2);S(at,{children:(v,o)=>{var l=Wt(),a=s(e(l),2),_=s(e(a),2),f=e(_,!0);t(_),t(a),t(l),b(()=>c(f,r(w)?.storage.active_jobs||0)),i(v,l)},$$slots:{default:!0}}),t(D);var rt=s(D,2);{var it=v=>{var o=Zt(),l=e(o);S(l,{children:(a,_)=>{var f=Xt(),$=s(nt(f),2),u=e($),k=s(e(u),2),N=e(k,!0);t(k),t(u);var M=s(u,2),G=s(e(M),2),U=e(G);t(G),t(M);var R=s(M,2),z=s(e(R),2),T=e(z);{var A=m=>{Y(m,{variant:"success",size:"sm",children:(L,ot)=>{h();var Q=y();b(()=>c(Q,r(w).gpu.device_name||"Available")),i(L,Q)},$$slots:{default:!0}})},V=m=>{Y(m,{variant:"error",size:"sm",children:(L,ot)=>{h();var Q=y("Not Available");i(L,Q)},$$slots:{default:!0}})};B(T,m=>{r(w).gpu.available?m(A):m(V,!1)})}t(z),t(R);var n=s(R,2),g=s(e(n),2),J=e(g);t(g),t(n),t($),b((m,L,ot)=>{c(N,r(w).system.cpu_count),c(U,`${m??""} / ${L??""}`),c(J,`${ot??""} free`)},[()=>q(r(w).system.memory_available),()=>q(r(w).system.memory_total),()=>q(r(w).system.disk_usage.free)]),i(a,f)},$$slots:{default:!0}}),t(o),i(v,o)};B(rt,v=>{r(w)&&v(it)})}var $t=s(rt,2),vt=e($t),dt=e(vt),At=s(e(dt),2);j(At,{href:"/models",variant:"ghost",size:"sm",children:(v,o)=>{h();var l=y("View All");i(v,l)},$$slots:{default:!0}}),t(dt);var Jt=s(dt,2);{var jt=v=>{S(v,{children:(o,l)=>{var a=te(),_=s(e(a),4);j(_,{href:"/training/new",variant:"primary",size:"sm",class:"mt-3",children:(f,$)=>{h();var u=y("Train Your First Model");i(f,u)},$$slots:{default:!0}}),t(a),i(o,a)},$$slots:{default:!0}})},Ct=v=>{var o=ae();wt(o,21,()=>r(W).slice(0,3),Pt,(l,a)=>{S(l,{hoverable:!0,children:(_,f)=>{var $=se(),u=e($),k=e(u),N=e(k,!0);t(k);var M=s(k,2),G=e(M,!0);t(M);var U=s(M,2);{var R=n=>{var g=ee(),J=e(g,!0);t(g),b(m=>c(J,m),[()=>q(r(a).size_bytes)]),i(n,g)};B(U,n=>{r(a).size_bytes&&n(R)})}t(u);var z=s(u,2),T=e(z);{let n=bt(()=>r(a).status==="available"?"success":"warning");Y(T,{get variant(){return r(n)},size:"sm",children:(g,J)=>{h();var m=y();b(()=>c(m,r(a).status)),i(g,m)},$$slots:{default:!0}})}var A=s(T,2),V=e(A,!0);t(A),t(z),t($),b(n=>{c(N,r(a).name),c(G,r(a).base_model),c(V,n)},[()=>xt(r(a).created_at)]),i(_,$)},$$slots:{default:!0}})}),t(o),i(v,o)};B(Jt,v=>{r(W).length===0?v(jt):v(Ct,!1)})}t(vt);var ht=s(vt,2),lt=e(ht),Ft=s(e(lt),2);j(Ft,{href:"/training",variant:"ghost",size:"sm",children:(v,o)=>{h();var l=y("View All");i(v,l)},$$slots:{default:!0}}),t(lt);var Gt=s(lt,2);{var Nt=v=>{S(v,{children:(o,l)=>{var a=re(),_=s(e(a),4);j(_,{href:"/training/new",variant:"primary",size:"sm",class:"mt-3",children:(f,$)=>{h();var u=y("Start Training");i(f,u)},$$slots:{default:!0}}),t(a),i(o,a)},$$slots:{default:!0}})},Ut=v=>{var o=de();wt(o,21,()=>r(X),Pt,(l,a)=>{S(l,{hoverable:!0,children:(_,f)=>{var $=ve(),u=e($),k=e(u),N=e(k,!0);t(k);var M=s(k,2),G=e(M,!0);t(M);var U=s(M,2);{var R=n=>{var g=ie(),J=e(g);t(g),b(()=>c(J,`Step ${r(a).progress.current_step??""} / ${r(a).progress.total_steps??""}`)),i(n,g)};B(U,n=>{r(a).progress&&n(R)})}t(u);var z=s(u,2),T=e(z);{let n=bt(()=>r(a).status==="completed"?"success":r(a).status==="failed"?"error":r(a).status==="running"?"info":"warning");Y(T,{get variant(){return r(n)},size:"sm",children:(g,J)=>{h();var m=y();b(()=>c(m,r(a).status)),i(g,m)},$$slots:{default:!0}})}var A=s(T,2),V=e(A,!0);t(A),t(z),t($),b(n=>{c(N,r(a).name),c(G,r(a).base_model),c(V,n)},[()=>xt(r(a).created_at)]),i(_,$)},$$slots:{default:!0}})}),t(o),i(v,o)};B(Gt,v=>{r(X).length===0?v(Nt):v(Ut,!1)})}t(ht),t($t),i(C,F)};B(P,C=>{r(Z)?C(H):C(Tt,!1)},!0)}i(d,p)};B(St,d=>{r(_t)?d(Dt):d(Rt,!1)})}t(pt),t(tt),i(Mt,tt),Kt()}export{fe as component};
