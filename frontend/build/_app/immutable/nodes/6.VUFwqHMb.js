import"../chunks/DsnmJJEf.js";import{v as Ne,p as je,s as h,F as Re,i as e,j as l,k as xe,l as oe,c as i,d as Se,f as m,e as r,g as s,r as t,m as R,n as x,w as Ie,q as z,t as b,u as ie,a as qe,o as Ke,h as We,$ as Ye}from"../chunks/DLqH200v.js";import{p as Ae,i as B}from"../chunks/uQGPdJUk.js";import{a as Ve,r as Me,e as Je,i as Qe}from"../chunks/BCgPi0gr.js";import{a as Fe}from"../chunks/Btudmqni.js";import{B as Xe}from"../chunks/Dw1y8d7D.js";import{B as M,C as Ze}from"../chunks/3RODIbcq.js";import{b as Be,c as ea}from"../chunks/DIKPUBCA.js";function aa(D,v){D.target===D.currentTarget&&v()}var ta=(D,v)=>D.key==="Escape"&&v(),ra=m('<button class="text-gray-400 hover:text-gray-600 transition-colors" aria-label="Close"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),sa=m('<div class="text-center py-8"><div class="text-green-500 text-6xl mb-4">‚úì</div> <h3 class="text-xl font-bold text-gray-900 mb-2">Model Uploaded Successfully!</h3> <p class="text-gray-600 mb-4">Your model is now available on HuggingFace Hub</p> <a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 font-medium">View on HuggingFace Hub <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></div>'),ia=m('<div class="flex justify-between"><span class="text-gray-600">Size:</span> <span class="font-medium text-gray-900"> </span></div>'),oa=m('<div class="bg-red-50 border border-red-200 rounded-lg p-4"><div class="flex gap-3"><div class="text-red-600 text-xl">‚ùå</div> <div class="text-sm text-red-800"><p class="font-semibold mb-1">Upload failed:</p> <p> </p></div></div></div>'),la=m(`<div class="bg-gray-50 rounded-lg p-4"><h3 class="text-sm font-semibold text-gray-700 mb-2">Model Details</h3> <div class="space-y-2 text-sm"><div class="flex justify-between"><span class="text-gray-600">Name:</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between"><span class="text-gray-600">Base Model:</span> <span class="font-medium text-gray-900"> </span></div> <!></div></div> <div class="space-y-4"><div><label for="repo-id" class="block text-sm font-medium text-gray-700 mb-1">Repository ID <span class="text-red-500">*</span></label> <input id="repo-id" type="text" placeholder="username/model-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent" required/> <p class="mt-1 text-xs text-gray-500">Format: your-username/model-name (e.g.,
                                john/my-finetuned-model)</p></div> <div class="flex items-center"><input id="is-private" type="checkbox" class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"/> <label for="is-private" class="ml-2 block text-sm text-gray-700">Make repository private</label></div> <div><label for="commit-message" class="block text-sm font-medium text-gray-700 mb-1">Commit Message</label> <input id="commit-message" type="text" placeholder="Upload model from Model Garden" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"/></div> <div><label for="repo-description" class="block text-sm font-medium text-gray-700 mb-1">Repository Description</label> <textarea id="repo-description" rows="3" placeholder="Describe your model..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"></textarea></div></div> <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4"><div class="flex gap-3"><div class="text-yellow-600 text-xl">‚ö†Ô∏è</div> <div class="text-sm text-yellow-800"><p class="font-semibold mb-1">Before uploading:</p> <ul class="list-disc ml-4 space-y-1"><li>Make sure you have a HuggingFace account
                                        and your HF_TOKEN is configured</li> <li>Ensure you have the necessary
                                        permissions to create repositories</li> <li>The entire model directory will be
                                        uploaded (this may take some time)</li> <li>Public repositories will be visible to
                                        everyone on HuggingFace Hub</li></ul></div></div></div> <!>`,1),da=m('<span class="flex items-center gap-2"><span class="inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></span> Uploading...</span>'),na=m('<div class="px-6 py-4 border-t border-gray-200 flex justify-end gap-3"><!> <!></div>'),va=m('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50" role="dialog" aria-modal="true" tabindex="-1"><div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"><div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between"><div><h2 class="text-xl font-bold text-gray-900">Upload to HuggingFace Hub</h2> <p class="text-sm text-gray-500 mt-1">Share your model with the community</p></div> <!></div> <div class="px-6 py-4 space-y-6"><!></div> <!></div></div>');function ca(D,v){je(v,!0);let T=Ae(v,"isOpen",11,!1),F=h(""),I=h(!1),G=h("Upload model from Model Garden"),E=h(`Model fine-tuned with Model Garden. Base model: ${v.model.base_model}`),_=h(!1),L=h(""),Q=h(!1),le=h("");Re(()=>{if(T()&&!e(F)){const f=v.model.name.toLowerCase().replace(/[^a-z0-9-_]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");l(F,`username/${f}`)}});async function ve(){if(l(L,""),!e(F)||!e(F).includes("/")){l(L,'Repository ID must be in the format "username/repo-name"');return}l(_,!0);try{const f=await Fe.uploadModelToHub(v.model.id,{repo_id:e(F),private:e(I),commit_message:e(G),repo_description:e(E)});l(Q,!0),l(le,f.url,!0),v.onSuccess&&v.onSuccess(f.url),setTimeout(()=>{P()},3e3)}catch(f){l(L,f instanceof Error?f.message:"Failed to upload model",!0)}finally{l(_,!1)}}function P(){e(_)||(l(Q,!1),l(le,""),l(L,""),v.onClose())}var X=xe(),ce=oe(X);{var ue=f=>{var q=va();q.__click=[aa,P],q.__keydown=[ta,P];var de=r(q),Z=r(de),pe=s(r(Z),2);{var ge=a=>{var o=ra();o.__click=P,i(a,o)};B(pe,a=>{e(_)||a(ge)})}t(Z);var ee=s(Z,2),_e=r(ee);{var ye=a=>{var o=sa(),d=s(r(o),6);t(o),R(()=>Ve(d,"href",e(le))),i(a,o)},be=a=>{var o=la(),d=oe(o),C=s(r(d),2),j=r(C),w=s(r(j),2),H=r(w,!0);t(w),t(j);var k=s(j,2),O=s(r(k),2),K=r(O,!0);t(O),t(k);var $=s(k,2);{var u=p=>{var U=ia(),S=s(r(U),2),V=r(S);t(S),t(U),R(se=>z(V,`${se??""} GB`),[()=>(v.model.size_bytes/1073741824).toFixed(2)]),i(p,U)};B($,p=>{v.model.size_bytes&&p(u)})}t(C),t(d);var y=s(d,2),n=r(y),ae=s(r(n),2);Me(ae),x(2),t(n);var te=s(n,2),W=r(te);Me(W),x(2),t(te);var Y=s(te,2),A=s(r(Y),2);Me(A),t(Y);var re=s(Y,2),ne=s(r(re),2);Ie(ne),t(re),t(y);var me=s(y,4);{var ke=p=>{var U=oa(),S=r(U),V=s(r(S),2),se=s(r(V),2),fe=r(se,!0);t(se),t(V),t(S),t(U),R(()=>z(fe,e(L))),i(p,U)};B(me,p=>{e(L)&&p(ke)})}R(()=>{z(H,v.model.name),z(K,v.model.base_model),ae.disabled=e(_),W.disabled=e(_),A.disabled=e(_),ne.disabled=e(_)}),Be(ae,()=>e(F),p=>l(F,p)),ea(W,()=>e(I),p=>l(I,p)),Be(A,()=>e(G),p=>l(G,p)),Be(ne,()=>e(E),p=>l(E,p)),i(a,o)};B(_e,a=>{e(Q)?a(ye):a(be,!1)})}t(ee);var he=s(ee,2);{var we=a=>{var o=na(),d=r(o);M(d,{variant:"secondary",onclick:P,get disabled(){return e(_)},children:(j,w)=>{x();var H=b("Cancel");i(j,H)},$$slots:{default:!0}});var C=s(d,2);{let j=ie(()=>e(_)||!e(F));M(C,{variant:"primary",onclick:ve,get disabled(){return e(j)},children:(w,H)=>{var k=xe(),O=oe(k);{var K=u=>{var y=da();i(u,y)},$=u=>{var y=b("üöÄ Upload to Hub");i(u,y)};B(O,u=>{e(_)?u(K):u($,!1)})}i(w,k)},$$slots:{default:!0}})}t(o),i(a,o)};B(he,a=>{e(Q)||a(we)})}t(de),t(q),i(f,q)};B(ce,f=>{T()&&f(ue)})}i(D,X),Se()}Ne(["click","keydown"]);var ua=m('<div class="text-center py-12"><div class="inline-block w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"></div> <p class="mt-2 text-gray-600">Loading models...</p></div>'),pa=m('<div class="text-center py-12"><div class="text-red-600 text-lg"> </div> <!></div>'),ma=m('<div class="text-center py-12"><div class="text-gray-400 text-6xl mb-4">üì¶</div> <h3 class="text-xl font-semibold text-gray-900 mb-2">No models yet</h3> <p class="text-gray-500 mb-6">Start by training your first model to see it here.</p> <!></div>'),fa=m('<span class="text-green-600"> </span>'),xa=m('<span class="text-red-600">‚úó Missing</span>'),ga=m('<div class="space-y-4"><div class="flex items-start justify-between"><div><h3 class="text-lg font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div> <!></div> <div class="grid grid-cols-2 gap-4"><div><div class="text-xs text-gray-500">Size</div> <div class="font-medium"> </div></div> <div><div class="text-xs text-gray-500">Files</div> <div class="font-medium"><!></div></div></div> <div class="space-y-2 pt-2 border-t"><div class="flex gap-2"><!> <!></div> <div class="flex gap-2"><!> <!></div></div></div>'),_a=m('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),ya=m('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div class="flex items-center"><!> <h1 class="text-3xl font-bold text-gray-900 ml-4">Models</h1></div> <div class="flex gap-3"><!> <!> <!></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div> <!>',1);function Ha(D,v){je(v,!0);let T=h(qe([])),F=h(!0),I=h(""),G=h(!1),E=h(null);Ke(async()=>{try{const a=await Fe.getModels();l(T,a.items,!0)}catch(a){l(I,a instanceof Error?a.message:"Failed to load models",!0)}finally{l(F,!1)}});function _(a){if(a===0)return"0 Bytes";const o=1024,d=["Bytes","KB","MB","GB"],C=Math.floor(Math.log(a)/Math.log(o));return parseFloat((a/Math.pow(o,C)).toFixed(2))+" "+d[C]}async function L(a){if(confirm("Are you sure you want to delete this model?"))try{await Fe.deleteModel(a),l(T,e(T).filter(o=>o.id!==a),!0)}catch(o){alert("Failed to delete model: "+(o instanceof Error?o.message:"Unknown error"))}}function Q(a){l(E,a,!0),l(G,!0)}function le(a){console.log("Model uploaded successfully:",a)}var ve=ya();We(a=>{Ye.title="Models - Model Garden"});var P=oe(ve),X=r(P),ce=r(X),ue=r(ce),f=r(ue),q=r(f);M(q,{href:"/",variant:"ghost",size:"sm",children:(a,o)=>{x();var d=b("‚Üê Dashboard");i(a,d)},$$slots:{default:!0}}),x(2),t(f);var de=s(f,2),Z=r(de);M(Z,{href:"/models/browse",variant:"secondary",children:(a,o)=>{x();var d=b("ü§ó Browse HuggingFace");i(a,d)},$$slots:{default:!0}});var pe=s(Z,2);M(pe,{href:"/models/load",variant:"secondary",children:(a,o)=>{x();var d=b("üîå Load Model");i(a,d)},$$slots:{default:!0}});var ge=s(pe,2);M(ge,{href:"/training/new",variant:"primary",children:(a,o)=>{x();var d=b("+ Train New Model");i(a,d)},$$slots:{default:!0}}),t(de),t(ue),t(ce),t(X);var ee=s(X,2),_e=r(ee);{var ye=a=>{var o=ua();i(a,o)},be=a=>{var o=xe(),d=oe(o);{var C=w=>{var H=pa(),k=r(H),O=r(k,!0);t(k);var K=s(k,2);M(K,{onclick:()=>window.location.reload(),variant:"primary",class:"mt-4",children:($,u)=>{x();var y=b("Retry");i($,y)},$$slots:{default:!0}}),t(H),R(()=>z(O,e(I))),i(w,H)},j=w=>{var H=xe(),k=oe(H);{var O=$=>{var u=ma(),y=s(r(u),6);M(y,{href:"/training/new",variant:"primary",children:(n,ae)=>{x();var te=b("Train Your First Model");i(n,te)},$$slots:{default:!0}}),t(u),i($,u)},K=$=>{var u=_a();Je(u,21,()=>e(T),Qe,(y,n)=>{Ze(y,{hoverable:!0,children:(ae,te)=>{var W=ga(),Y=r(W),A=r(Y),re=r(A),ne=r(re,!0);t(re);var me=s(re,2),ke=r(me,!0);t(me),t(A);var p=s(A,2);{let c=ie(()=>e(n).status==="available"?"success":"warning");Xe(p,{get variant(){return e(c)},children:(g,N)=>{x();var J=b();R(()=>z(J,e(n).status)),i(g,J)},$$slots:{default:!0}})}t(Y);var U=s(Y,2),S=r(U),V=s(r(S),2),se=r(V,!0);t(V),t(S);var fe=s(S,2),He=s(r(fe),2),De=r(He);{var Te=c=>{var g=fa(),N=r(g);t(g),R(()=>z(N,`‚úì ${(e(n).file_count||0)??""}`)),i(c,g)},Ge=c=>{var g=xa();i(c,g)};B(De,c=>{e(n).file_exists?c(Te):c(Ge,!1)})}t(He),t(fe),t(U);var Ue=s(U,2),$e=r(Ue),ze=r($e);{let c=ie(()=>`/models/load?model=${encodeURIComponent(e(n).path)}`);M(ze,{get href(){return e(c)},variant:"primary",size:"sm",fullWidth:!0,children:(g,N)=>{x();var J=b("üîå Load");i(g,J)},$$slots:{default:!0}})}var Ee=s(ze,2);{let c=ie(()=>`/inference?model=${e(n).id}`);M(Ee,{variant:"secondary",size:"sm",get href(){return e(c)},children:(g,N)=>{x();var J=b("Generate");i(g,J)},$$slots:{default:!0}})}t($e);var Pe=s($e,2),Ce=r(Pe);{let c=ie(()=>!e(n).file_exists),g=ie(()=>e(n).file_exists?"Upload model to HuggingFace Hub":"Model files not found on disk");M(Ce,{variant:"secondary",size:"sm",fullWidth:!0,onclick:()=>Q(e(n)),get disabled(){return e(c)},get title(){return e(g)},children:(N,J)=>{x();var Oe=b("ü§ó Upload to Hub");i(N,Oe)},$$slots:{default:!0}})}var Le=s(Ce,2);M(Le,{variant:"danger",size:"sm",onclick:()=>L(e(n).id),children:(c,g)=>{x();var N=b("üóëÔ∏è");i(c,N)},$$slots:{default:!0}}),t(Pe),t(Ue),t(W),R(c=>{z(ne,e(n).name),z(ke,e(n).base_model),z(se,c)},[()=>e(n).size_bytes?_(e(n).size_bytes):"Unknown"]),i(ae,W)},$$slots:{default:!0}})}),t(u),i($,u)};B(k,$=>{e(T).length===0?$(O):$(K,!1)},!0)}i(w,H)};B(d,w=>{e(I)?w(C):w(j,!1)},!0)}i(a,o)};B(_e,a=>{e(F)?a(ye):a(be,!1)})}t(ee),t(P);var he=s(P,2);{var we=a=>{ca(a,{get model(){return e(E)},onClose:()=>{l(G,!1),l(E,null)},onSuccess:le,get isOpen(){return e(G)},set isOpen(o){l(G,o,!0)}})};B(he,a=>{e(E)&&a(we)})}i(D,ve),Se()}export{Ha as component};
