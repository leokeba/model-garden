import"../chunks/DsnmJJEf.js";import{p as Bt,s as S,a as Pt,o as kt,f as $,h as zt,c as s,d as Ft,$ as Dt,t as n,e as r,g as o,j as P,n as v,r as e,i as a,k as it,l as ot,m as T,q as h,u as q}from"../chunks/DLqH200v.js";import{i as A}from"../chunks/uQGPdJUk.js";import{e as Ct,i as Lt}from"../chunks/BCgPi0gr.js";import{B as u,C as Ut}from"../chunks/DtqFLeEY.js";import{B as jt}from"../chunks/Dw1y8d7D.js";import{a as dt}from"../chunks/GrWgsx-T.js";var Gt=$('<div class="text-center py-12"><div class="inline-block w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"></div> <p class="mt-2 text-gray-600">Loading models...</p></div>'),Et=$('<div class="text-center py-12"><div class="text-red-600 text-lg"> </div> <!></div>'),Nt=$('<div class="text-center py-12"><div class="text-gray-400 text-6xl mb-4">📦</div> <h3 class="text-xl font-semibold text-gray-900 mb-2">No models yet</h3> <p class="text-gray-500 mb-6">Start by training your first model to see it here.</p> <!></div>'),Rt=$('<div class="space-y-4"><div class="flex items-start justify-between"><div><h3 class="text-lg font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div> <!></div> <div class="grid grid-cols-2 gap-4"><div><div class="text-xs text-gray-500">Size</div> <div class="font-medium"> </div></div> <div><div class="text-xs text-gray-500">Created</div> <div class="font-medium"> </div></div></div> <div class="flex gap-2 pt-2 border-t"><!> <!> <!></div></div>'),St=$('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),Tt=$('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div class="flex items-center"><!> <h1 class="text-3xl font-bold text-gray-900 ml-4">Models</h1></div> <div class="flex gap-3"><!> <!> <!></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div>');function Jt(lt,vt){Bt(vt,!0);let y=S(Pt([])),H=S(!0),k=S("");kt(async()=>{try{const t=await dt.getModels();P(y,t.items,!0)}catch(t){P(k,t instanceof Error?t.message:"Failed to load models",!0)}finally{P(H,!1)}});function nt(t){if(t===0)return"0 Bytes";const i=1024,l=["Bytes","KB","MB","GB"],M=Math.floor(Math.log(t)/Math.log(i));return parseFloat((t/Math.pow(i,M)).toFixed(2))+" "+l[M]}function ct(t){return t==="unknown"?"Unknown":new Date(t).toLocaleDateString()}async function ut(t){if(confirm("Are you sure you want to delete this model?"))try{await dt.deleteModel(t),P(y,a(y).filter(i=>i.id!==t),!0)}catch(i){alert("Failed to delete model: "+(i instanceof Error?i.message:"Unknown error"))}}var z=Tt();zt(t=>{Dt.title="Models - Model Garden"});var F=r(z),K=r(F),W=r(K),D=r(W),ft=r(D);u(ft,{href:"/",variant:"ghost",size:"sm",children:(t,i)=>{v();var l=n("← Dashboard");s(t,l)},$$slots:{default:!0}}),v(2),e(D);var Y=o(D,2),I=r(Y);u(I,{href:"/models/browse",variant:"secondary",children:(t,i)=>{v();var l=n("🤗 Browse HuggingFace");s(t,l)},$$slots:{default:!0}});var J=o(I,2);u(J,{href:"/models/load",variant:"secondary",children:(t,i)=>{v();var l=n("🔌 Load Model");s(t,l)},$$slots:{default:!0}});var mt=o(J,2);u(mt,{href:"/training/new",variant:"primary",children:(t,i)=>{v();var l=n("+ Train New Model");s(t,l)},$$slots:{default:!0}}),e(Y),e(W),e(K),e(F);var O=o(F,2),pt=r(O);{var xt=t=>{var i=Gt();s(t,i)},_t=t=>{var i=it(),l=ot(i);{var M=x=>{var _=Et(),w=r(_),C=r(w,!0);e(w);var L=o(w,2);u(L,{onclick:()=>window.location.reload(),variant:"primary",class:"mt-4",children:(f,m)=>{v();var b=n("Retry");s(f,b)},$$slots:{default:!0}}),e(_),T(()=>h(C,a(k))),s(x,_)},gt=x=>{var _=it(),w=ot(_);{var C=f=>{var m=Nt(),b=o(r(m),6);u(b,{href:"/training/new",variant:"primary",children:(d,Q)=>{v();var V=n("Train Your First Model");s(d,V)},$$slots:{default:!0}}),e(m),s(f,m)},L=f=>{var m=St();Ct(m,21,()=>a(y),Lt,(b,d)=>{Ut(b,{hoverable:!0,children:(Q,V)=>{var U=Rt(),j=r(U),G=r(j),E=r(G),ht=r(E,!0);e(E);var X=o(E,2),$t=r(X,!0);e(X),e(G);var yt=o(G,2);{let c=q(()=>a(d).status==="available"?"success":"warning");jt(yt,{get variant(){return a(c)},children:(p,B)=>{v();var g=n();T(()=>h(g,a(d).status)),s(p,g)},$$slots:{default:!0}})}e(j);var N=o(j,2),R=r(N),Z=o(r(R),2),wt=r(Z,!0);e(Z),e(R);var tt=o(R,2),et=o(r(tt),2),bt=r(et,!0);e(et),e(tt),e(N);var rt=o(N,2),at=r(rt);{let c=q(()=>`/models/load?model=${encodeURIComponent(a(d).path)}`);u(at,{get href(){return a(c)},variant:"primary",size:"sm",fullWidth:!0,children:(p,B)=>{v();var g=n("🔌 Load");s(p,g)},$$slots:{default:!0}})}var st=o(at,2);{let c=q(()=>`/inference?model=${a(d).id}`);u(st,{variant:"secondary",size:"sm",get href(){return a(c)},children:(p,B)=>{v();var g=n("Generate");s(p,g)},$$slots:{default:!0}})}var Mt=o(st,2);u(Mt,{variant:"danger",size:"sm",onclick:()=>ut(a(d).id),children:(c,p)=>{v();var B=n("🗑️");s(c,B)},$$slots:{default:!0}}),e(rt),e(U),T((c,p)=>{h(ht,a(d).name),h($t,a(d).base_model),h(wt,c),h(bt,p)},[()=>a(d).size_bytes?nt(a(d).size_bytes):"Unknown",()=>ct(a(d).created_at)]),s(Q,U)},$$slots:{default:!0}})}),e(m),s(f,m)};A(w,f=>{a(y).length===0?f(C):f(L,!1)},!0)}s(x,_)};A(l,x=>{a(k)?x(M):x(gt,!1)},!0)}s(t,i)};A(pt,t=>{a(H)?t(xt):t(_t,!1)})}e(O),e(z),s(lt,z),Ft()}export{Jt as component};
