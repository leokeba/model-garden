import"../chunks/DsnmJJEf.js";import{p as Fe,s as at,a as It,o as Ge,f as n,h as Ue,b as r,c as je,$ as De,d as st,e,g as s,n as F,t as G,r as t,i as a,j as Re,k as lt,l as p,m as v,u as Ot}from"../chunks/nG1nXqCg.js";import{i as $}from"../chunks/95pJECEZ.js";import{e as St,s as Qt,i as Ft}from"../chunks/0MiSZMzD.js";import{s as Gt}from"../chunks/beOVDaPn.js";import{B as Y,a as Ut,C as T}from"../chunks/DYLRpWCU.js";import{B as rt}from"../chunks/BhJxjrck.js";var Te=n('<div class="text-center py-12"><div class="inline-block w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"></div> <p class="mt-2 text-gray-600">Loading dashboard...</p></div>'),Ae=n('<div class="text-center py-12"><div class="text-red-600 text-lg"> </div> <!></div>'),Ce=n('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center"><span class="text-primary-600 text-lg">ðŸ“¦</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Models</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Je=n('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-carbon-100 rounded-lg flex items-center justify-center"><span class="text-carbon-600 text-lg">âš¡</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Training Jobs</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Ne=n('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"><span class="text-green-600 text-lg">ðŸš€</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Active Jobs</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Ve=n('<div class="text-xs text-gray-400"> </div>'),Le=n('<div class="w-full bg-gray-200 rounded-full h-1.5 mt-1"><div class="bg-blue-600 h-1.5 rounded-full"></div></div> <div class="text-xs text-gray-400 mt-0.5"> </div>',1),We=n('<div class="text-xs text-gray-400"> </div>'),Ee=n('<div class="text-sm"><span class="text-gray-500">Temp:</span> <span> </span></div>'),Ke=n('<div><div class="flex justify-between text-xs text-gray-600 mb-1"><span>GPU Utilization</span> <span> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full transition-all"></div></div></div>'),Ye=n('<div class="mt-3 text-xs text-gray-600"><span>Power:</span> <span class="font-medium text-gray-900"> </span> <span class="text-gray-400"> </span></div>'),qe=n('<div class="bg-gray-50 rounded-lg p-4"><div class="flex items-center justify-between mb-3"><div class="flex items-center gap-2"><span class="text-lg">ðŸŽ®</span> <div><div class="font-medium text-gray-900"> </div> <div class="text-xs text-gray-500"> </div></div></div> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-3"><div><div class="flex justify-between text-xs text-gray-600 mb-1"><span>VRAM</span> <span> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div></div></div> <div class="text-xs text-gray-500 mt-0.5"> </div></div> <!></div> <!></div>'),He=n('<div class="border-t pt-4"><h4 class="text-sm font-semibold text-gray-700 mb-3">GPU Details</h4> <div class="space-y-4"></div></div>'),Ie=n('<h3 class="text-lg font-semibold text-gray-900 mb-4">System Status</h3> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"><div><div class="text-sm text-gray-500">CPU Cores</div> <div class="font-medium"> </div> <!></div> <div><div class="text-sm text-gray-500">System Memory</div> <div class="font-medium"> </div> <!></div> <div><div class="text-sm text-gray-500">GPU Status</div> <div class="font-medium"><!></div></div> <div><div class="text-sm text-gray-500">Disk Space</div> <div class="font-medium"> </div> <!></div></div> <!>',1),Oe=n('<div class="mb-8"><!></div>'),Qe=n('<div class="text-center py-8"><div class="text-gray-400 text-4xl mb-2">ðŸ“¦</div> <p class="text-gray-500">No models yet</p> <!></div>'),Xe=n('<p class="text-xs text-gray-400"> </p>'),Ze=n('<div class="flex items-center justify-between"><div><h4 class="font-medium text-gray-900"> </h4> <p class="text-sm text-gray-500"> </p> <!></div> <div class="text-right"><!> <p class="text-xs text-gray-400 mt-1"> </p></div></div>'),ta=n('<div class="space-y-3"></div>'),ea=n('<div class="text-center py-8"><div class="text-gray-400 text-4xl mb-2">âš¡</div> <p class="text-gray-500">No training jobs yet</p> <!></div>'),aa=n('<div class="text-xs text-gray-400"> </div>'),sa=n('<div class="flex items-center justify-between"><div><h4 class="font-medium text-gray-900"> </h4> <p class="text-sm text-gray-500"> </p> <!></div> <div class="text-right"><!> <p class="text-xs text-gray-400 mt-1"> </p></div></div>'),ra=n('<div class="space-y-3"></div>'),ia=n('<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"><!> <!> <!></div> <!> <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><div><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-semibold text-gray-900">Recent Models</h2> <!></div> <!></div> <div><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-semibold text-gray-900">Recent Training Jobs</h2> <!></div> <!></div></div>',1),va=n('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div class="flex items-center"><h1 class="text-3xl font-bold text-gray-900">ðŸŒ± Model Garden</h1> <!></div> <div class="flex gap-3"><!> <!></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div>');function xa(Xt,Zt){Fe(Zt,!0);let ot=at(It([])),nt=at(It([])),m=at(null),jt=at(!0),ct=at("");Ge(async()=>{try{const[l,B,U]=await Promise.all([Ut.getModels(),Ut.getTrainingJobs(),Ut.getSystemStatus()]);st(ot,l.items,!0),st(nt,B.items.slice(0,5),!0),st(m,U,!0)}catch(l){st(ct,l instanceof Error?l.message:"Failed to load data",!0)}finally{st(jt,!1)}});function q(l){if(l===0)return"0 Bytes";const B=1024,U=["Bytes","KB","MB","GB"],it=Math.floor(Math.log(l)/Math.log(B));return parseFloat((l/Math.pow(B,it)).toFixed(2))+" "+U[it]}function Dt(l){return l==="unknown"?"Unknown":new Date(l).toLocaleDateString()}var _t=va();Ue(l=>{De.title="Model Garden - Dashboard"});var mt=e(_t),Rt=e(mt),Tt=e(Rt),xt=e(Tt),te=s(e(xt),2);rt(te,{variant:"info",size:"sm",class:"ml-3",children:(l,B)=>{F();var U=G("Dashboard");r(l,U)},$$slots:{default:!0}}),t(xt);var At=s(xt,2),Ct=e(At);Y(Ct,{href:"/training/new",variant:"primary",children:(l,B)=>{F();var U=G("+ New Training");r(l,U)},$$slots:{default:!0}});var ee=s(Ct,2);Y(ee,{href:"/models",variant:"secondary",children:(l,B)=>{F();var U=G("View Models");r(l,U)},$$slots:{default:!0}}),t(At),t(Tt),t(Rt),t(mt);var Jt=s(mt,2),ae=e(Jt);{var se=l=>{var B=Te();r(l,B)},re=l=>{var B=Re(),U=lt(B);{var it=H=>{var I=Ae(),A=e(I),vt=e(A,!0);t(A);var dt=s(A,2);Y(dt,{onclick:()=>window.location.reload(),variant:"primary",class:"mt-4",children:(ut,pt)=>{F();var ft=G("Retry");r(ut,ft)},$$slots:{default:!0}}),t(I),p(()=>v(vt,a(ct))),r(H,I)},ie=H=>{var I=ia(),A=lt(I),vt=e(A);T(vt,{children:(d,x)=>{var _=Ce(),i=s(e(_),2),g=s(e(i),2),h=e(g,!0);t(g),t(i),t(_),p(()=>v(h,a(m)?.storage.models_count||0)),r(d,_)},$$slots:{default:!0}});var dt=s(vt,2);T(dt,{children:(d,x)=>{var _=Je(),i=s(e(_),2),g=s(e(i),2),h=e(g,!0);t(g),t(i),t(_),p(()=>v(h,a(m)?.storage.training_jobs_count||0)),r(d,_)},$$slots:{default:!0}});var ut=s(dt,2);T(ut,{children:(d,x)=>{var _=Ne(),i=s(e(_),2),g=s(e(i),2),h=e(g,!0);t(g),t(i),t(_),p(()=>v(h,a(m)?.storage.active_jobs||0)),r(d,_)},$$slots:{default:!0}}),t(A);var pt=s(A,2);{var ft=d=>{var x=Oe(),_=e(x);T(_,{children:(i,g)=>{var h=Ie(),w=s(lt(h),2),y=e(w),j=s(e(y),2),X=e(j,!0);t(j);var D=s(j,2);{var Z=c=>{var u=Ve(),b=e(u);t(u),p(S=>v(b,`${S??""}% used`),[()=>a(m).system.cpu_percent.toFixed(1)]),r(c,u)};$(D,c=>{a(m).system.cpu_percent&&c(Z)})}t(y);var C=s(y,2),J=s(e(C),2),N=e(J);t(J);var V=s(J,2);{var L=c=>{var u=Le(),b=lt(u),S=e(b);t(b);var o=s(b,2),tt=e(o);t(o),p(et=>{Gt(S,`width: ${a(m).system.memory_percent??""}%`),v(tt,`${et??""}% used`)},[()=>a(m).system.memory_percent.toFixed(1)]),r(c,u)};$(V,c=>{a(m).system.memory_percent&&c(L)})}t(C);var W=s(C,2),f=s(e(W),2),P=e(f);{var E=c=>{rt(c,{variant:"success",size:"sm",children:(u,b)=>{F();var S=G();p(()=>v(S,`${(a(m).gpu.device_count||0)??""} GPU${(a(m).gpu.device_count||0)>1?"s":""}`)),r(u,S)},$$slots:{default:!0}})},R=c=>{rt(c,{variant:"error",size:"sm",children:(u,b)=>{F();var S=G("Not Available");r(u,S)},$$slots:{default:!0}})};$(P,c=>{a(m).gpu.available?c(E):c(R,!1)})}t(f),t(W);var Lt=s(W,2),ht=s(e(Lt),2),xe=e(ht);t(ht);var ue=s(ht,2);{var pe=c=>{var u=We(),b=e(u);t(u),p(S=>v(b,`${S??""}% used`),[()=>a(m).system.disk_usage.percent.toFixed(1)]),r(c,u)};$(ue,c=>{a(m).system.disk_usage.percent&&c(pe)})}t(Lt),t(w);var fe=s(w,2);{var ge=c=>{var u=He(),b=s(e(u),2);St(b,21,()=>a(m).gpu.devices,Ft,(S,o)=>{var tt=qe(),et=e(tt),bt=e(et),Wt=s(e(bt),2),wt=e(Wt),ye=e(wt,!0);t(wt);var Et=s(wt,2),$e=e(Et);t(Et),t(Wt),t(bt);var he=s(bt,2);{var be=z=>{var M=Ee(),k=s(e(M),2);let K;var O=e(k);t(k),t(M),p(Q=>{K=Qt(k,1,"font-medium",null,K,Q),v(O,`${a(o).temperature??""}Â°C`)},[()=>({"text-orange-600":a(o).temperature>80,"text-yellow-600":a(o).temperature>70&&a(o).temperature<=80,"text-green-600":a(o).temperature<=70})]),r(z,M)};$(he,z=>{a(o).temperature&&z(be)})}t(et);var Pt=s(et,2),zt=e(Pt),Mt=e(zt),Kt=s(e(Mt),2),we=e(Kt);t(Kt),t(Mt);var kt=s(Mt,2),Yt=e(kt);let qt;t(kt);var Ht=s(kt,2),Pe=e(Ht);t(Ht),t(zt);var ze=s(zt,2);{var Me=z=>{var M=Ke(),k=e(M),K=s(e(k),2),O=e(K);t(K),t(k);var Q=s(k,2),Bt=e(Q);t(Q),t(M),p(()=>{v(O,`${a(o).utilization.gpu??""}%`),Gt(Bt,`width: ${a(o).utilization.gpu??""}%`)}),r(z,M)};$(ze,z=>{a(o).utilization.gpu!==null&&z(Me)})}t(Pt);var ke=s(Pt,2);{var Be=z=>{var M=Ye(),k=s(e(M),2),K=e(k);t(k);var O=s(k,2),Q=e(O);t(O),t(M),p((Bt,Se)=>{v(K,`${Bt??""}W`),v(Q,`/ ${Se??""}W`)},[()=>a(o).power.usage.toFixed(1),()=>a(o).power.limit.toFixed(0)]),r(z,M)};$(ke,z=>{a(o).power&&z(Be)})}t(tt),p((z,M,k)=>{v(ye,a(o).name),v($e,`GPU ${a(o).id??""}`),v(we,`${z??""} / ${M??""}`),qt=Qt(Yt,1,"h-2 rounded-full transition-all",null,qt,k),Gt(Yt,`width: ${a(o).memory.used_percent??""}%`),v(Pe,`${a(o).memory.used_percent??""}% used`)},[()=>q(a(o).memory.used),()=>q(a(o).memory.total),()=>({"bg-red-500":a(o).memory.used_percent>90,"bg-yellow-500":a(o).memory.used_percent>70&&a(o).memory.used_percent<=90,"bg-green-500":a(o).memory.used_percent<=70})]),r(S,tt)}),t(b),t(u),r(c,u)};$(fe,c=>{a(m).gpu.available&&a(m).gpu.devices&&c(ge)})}p((c,u,b)=>{v(X,a(m).system.cpu_count),v(N,`${c??""} / ${u??""}`),v(xe,`${b??""} free`)},[()=>q(a(m).system.memory_used),()=>q(a(m).system.memory_total),()=>q(a(m).system.disk_usage.free)]),r(i,h)},$$slots:{default:!0}}),t(x),r(d,x)};$(pt,d=>{a(m)&&d(ft)})}var Nt=s(pt,2),gt=e(Nt),yt=e(gt),ve=s(e(yt),2);Y(ve,{href:"/models",variant:"ghost",size:"sm",children:(d,x)=>{F();var _=G("View All");r(d,_)},$$slots:{default:!0}}),t(yt);var de=s(yt,2);{var le=d=>{T(d,{children:(x,_)=>{var i=Qe(),g=s(e(i),4);Y(g,{href:"/training/new",variant:"primary",size:"sm",class:"mt-3",children:(h,w)=>{F();var y=G("Train Your First Model");r(h,y)},$$slots:{default:!0}}),t(i),r(x,i)},$$slots:{default:!0}})},oe=d=>{var x=ta();St(x,21,()=>a(ot).slice(0,3),Ft,(_,i)=>{T(_,{hoverable:!0,children:(g,h)=>{var w=Ze(),y=e(w),j=e(y),X=e(j,!0);t(j);var D=s(j,2),Z=e(D,!0);t(D);var C=s(D,2);{var J=f=>{var P=Xe(),E=e(P,!0);t(P),p(R=>v(E,R),[()=>q(a(i).size_bytes)]),r(f,P)};$(C,f=>{a(i).size_bytes&&f(J)})}t(y);var N=s(y,2),V=e(N);{let f=Ot(()=>a(i).status==="available"?"success":"warning");rt(V,{get variant(){return a(f)},size:"sm",children:(P,E)=>{F();var R=G();p(()=>v(R,a(i).status)),r(P,R)},$$slots:{default:!0}})}var L=s(V,2),W=e(L,!0);t(L),t(N),t(w),p(f=>{v(X,a(i).name),v(Z,a(i).base_model),v(W,f)},[()=>Dt(a(i).created_at)]),r(g,w)},$$slots:{default:!0}})}),t(x),r(d,x)};$(de,d=>{a(ot).length===0?d(le):d(oe,!1)})}t(gt);var Vt=s(gt,2),$t=e(Vt),ne=s(e($t),2);Y(ne,{href:"/training",variant:"ghost",size:"sm",children:(d,x)=>{F();var _=G("View All");r(d,_)},$$slots:{default:!0}}),t($t);var ce=s($t,2);{var _e=d=>{T(d,{children:(x,_)=>{var i=ea(),g=s(e(i),4);Y(g,{href:"/training/new",variant:"primary",size:"sm",class:"mt-3",children:(h,w)=>{F();var y=G("Start Training");r(h,y)},$$slots:{default:!0}}),t(i),r(x,i)},$$slots:{default:!0}})},me=d=>{var x=ra();St(x,21,()=>a(nt),Ft,(_,i)=>{T(_,{hoverable:!0,children:(g,h)=>{var w=sa(),y=e(w),j=e(y),X=e(j,!0);t(j);var D=s(j,2),Z=e(D,!0);t(D);var C=s(D,2);{var J=f=>{var P=aa(),E=e(P);t(P),p(()=>v(E,`Step ${a(i).progress.current_step??""} / ${a(i).progress.total_steps??""}`)),r(f,P)};$(C,f=>{a(i).progress&&f(J)})}t(y);var N=s(y,2),V=e(N);{let f=Ot(()=>a(i).status==="completed"?"success":a(i).status==="failed"?"error":a(i).status==="running"?"info":"warning");rt(V,{get variant(){return a(f)},size:"sm",children:(P,E)=>{F();var R=G();p(()=>v(R,a(i).status)),r(P,R)},$$slots:{default:!0}})}var L=s(V,2),W=e(L,!0);t(L),t(N),t(w),p(f=>{v(X,a(i).name),v(Z,a(i).base_model),v(W,f)},[()=>Dt(a(i).created_at)]),r(g,w)},$$slots:{default:!0}})}),t(x),r(d,x)};$(ce,d=>{a(nt).length===0?d(_e):d(me,!1)})}t(Vt),t(Nt),r(H,I)};$(U,H=>{a(ct)?H(it):H(ie,!1)},!0)}r(l,B)};$(ae,l=>{a(jt)?l(se):l(re,!1)})}t(Jt),t(_t),r(Xt,_t),je()}export{xa as component};
