import"../chunks/DsnmJJEf.js";import{p as Rt,s as ve,a as Ze,o as Tt,b as At,f as m,h as Gt,c as r,d as Ut,$ as Ct,e as s,g as a,n as R,t as T,r as e,i as t,j as H,k as Jt,l as re,m as u,q as c,u as et}from"../chunks/DLqH200v.js";import{i as b}from"../chunks/uQGPdJUk.js";import{s as me,e as Re,i as Te}from"../chunks/BCgPi0gr.js";import{s as le}from"../chunks/C7f289bl.js";import{a as _e}from"../chunks/D-TMAApK.js";import{B as Ae}from"../chunks/Dw1y8d7D.js";import{B as Y,C as D}from"../chunks/3RODIbcq.js";var Ht=m('<div class="text-center py-12"><div class="inline-block w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"></div> <p class="mt-2 text-gray-600">Loading dashboard...</p></div>'),It=m('<div class="text-center py-12"><div class="text-red-600 text-lg"> </div> <!></div>'),Lt=m('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center"><span class="text-primary-600 text-lg">ðŸ“¦</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Models</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Vt=m('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-carbon-100 rounded-lg flex items-center justify-center"><span class="text-carbon-600 text-lg">âš¡</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Training Jobs</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Nt=m('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"><span class="text-green-600 text-lg">ðŸš€</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Active Jobs</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Wt=m('<div class="w-full bg-gray-200 rounded-full h-1.5 mt-1"><div class="bg-blue-600 h-1.5 rounded-full"></div></div> <div class="text-xs text-gray-400 mt-0.5"> </div>',1),qt=m('<div class="w-full bg-gray-200 rounded-full h-1.5 mt-1"><div></div></div> <div class="text-xs text-gray-400 mt-0.5"> </div>',1),Et=m('<div class="w-full bg-gray-200 rounded-full h-1.5 mt-1"><div></div></div> <div class="text-xs text-gray-400 mt-0.5"> </div>',1),Kt=m('<div class="text-sm"><span class="text-gray-500">Temp:</span> <span> </span></div>'),Qt=m('<div><div class="flex justify-between text-xs text-gray-600 mb-1"><span>GPU Utilization</span> <span> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full transition-all"></div></div></div>'),Yt=m('<div class="mt-3 text-xs text-gray-600"><span>Power:</span> <span class="font-medium text-gray-900"> </span> <span class="text-gray-400"> </span></div>'),Ot=m('<div class="bg-gray-50 rounded-lg p-4"><div class="flex items-center justify-between mb-3"><div class="flex items-center gap-2"><span class="text-lg">ðŸŽ®</span> <div><div class="font-medium text-gray-900"> </div> <div class="text-xs text-gray-500"> </div></div></div> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-3"><div><div class="flex justify-between text-xs text-gray-600 mb-1"><span>VRAM</span> <span> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div></div></div> <div class="text-xs text-gray-500 mt-0.5"> </div></div> <!></div> <!></div>'),Xt=m('<div class="border-t pt-4"><h4 class="text-sm font-semibold text-gray-700 mb-3">GPU Details</h4> <div class="space-y-4"></div></div>'),Zt=m('<div class="flex items-center justify-between mb-4"><h3 class="text-lg font-semibold text-gray-900">System Status</h3> <div class="flex items-center gap-2"><div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div> <span class="text-xs text-gray-500">Auto-refreshing</span></div></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"><div><div class="text-sm text-gray-500">System Memory</div> <div class="font-medium"> </div> <!></div> <div><div class="text-sm text-gray-500">CPU Cores</div> <div class="font-medium"> </div> <!></div> <div><div class="text-sm text-gray-500">Disk Space</div> <div class="font-medium"> </div> <!></div></div> <!>',1),es=m('<div class="mb-8"><!></div>'),ts=m('<a href="/models/browse" class="block p-6 hover:bg-gray-50 transition-colors"><div class="flex items-center mb-3"><div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center"><span class="text-orange-600 text-xl">ðŸ¤—</span></div> <h3 class="ml-3 text-lg font-semibold text-gray-900">Browse HuggingFace</h3></div> <p class="text-gray-600 text-sm">Discover and load popular models from HuggingFace Hub instantly</p></a>'),ss=m('<a href="/models/load" class="block p-6 hover:bg-gray-50 transition-colors"><div class="flex items-center mb-3"><div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"><span class="text-blue-600 text-xl">ðŸ”Œ</span></div> <h3 class="ml-3 text-lg font-semibold text-gray-900">Load Model</h3></div> <p class="text-gray-600 text-sm">Load local or HuggingFace models for inference and chat</p></a>'),as=m('<a href="/training/new" class="block p-6 hover:bg-gray-50 transition-colors"><div class="flex items-center mb-3"><div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center"><span class="text-green-600 text-xl">âš¡</span></div> <h3 class="ml-3 text-lg font-semibold text-gray-900">Train Model</h3></div> <p class="text-gray-600 text-sm">Fine-tune language models on your custom datasets</p></a>'),rs=m('<div class="text-center py-8"><div class="text-gray-400 text-4xl mb-2">ðŸ“¦</div> <p class="text-gray-500">No models yet</p> <!></div>'),is=m('<p class="text-xs text-gray-400"> </p>'),ds=m('<div class="flex items-center justify-between"><div><h4 class="font-medium text-gray-900"> </h4> <p class="text-sm text-gray-500"> </p> <!></div> <div class="text-right"><!> <p class="text-xs text-gray-400 mt-1"> </p></div></div>'),vs=m('<div class="space-y-3"></div>'),ls=m('<div class="text-center py-8"><div class="text-gray-400 text-4xl mb-2">âš¡</div> <p class="text-gray-500">No training jobs yet</p> <!></div>'),os=m('<div class="text-xs text-gray-400"> </div>'),ns=m('<div class="flex items-center justify-between"><div><h4 class="font-medium text-gray-900"> </h4> <p class="text-sm text-gray-500"> </p> <!></div> <div class="text-right"><!> <p class="text-xs text-gray-400 mt-1"> </p></div></div>'),cs=m('<div class="space-y-3"></div>'),ms=m('<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"><!> <!> <!></div> <!> <div class="mb-8"><h2 class="text-xl font-semibold text-gray-900 mb-4">Quick Actions</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><!> <!> <!></div></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><div><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-semibold text-gray-900">Recent Models</h2> <!></div> <!></div> <div><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-semibold text-gray-900">Recent Training Jobs</h2> <!></div> <!></div></div>',1),_s=m('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div class="flex items-center"><h1 class="text-3xl font-bold text-gray-900">ðŸŒ± Model Garden</h1> <!></div> <div class="flex gap-3"><!> <!></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div>');function bs(tt,st){Rt(st,!0);let xe=ve(Ze([])),ue=ve(Ze([])),l=ve(null),Ge=ve(!0),J=ve(""),ge=null;async function at(){try{const[n,F,S]=await Promise.all([_e.getModels(),_e.getTrainingJobs(),_e.getSystemStatus()]);H(xe,n.items,!0),H(ue,F.items.slice(0,5),!0),H(l,S,!0)}catch(n){H(J,n instanceof Error?n.message:"Failed to load data",!0)}finally{H(Ge,!1)}}async function rt(){try{const n=await _e.getSystemStatus();H(l,n,!0),t(J)&&t(J).includes("system status")&&H(J,"")}catch{t(J)||H(J,"Failed to refresh system status")}}Tt(async()=>{await at(),ge=setInterval(rt,5e3)}),At(()=>{ge&&clearInterval(ge)});function O(n){if(n===0)return"0 Bytes";const F=1024,S=["Bytes","KB","MB","GB"],oe=Math.floor(Math.log(n)/Math.log(F));return parseFloat((n/Math.pow(F,oe)).toFixed(2))+" "+S[oe]}function Ue(n){return n==="unknown"?"Unknown":new Date(n).toLocaleDateString()}var pe=_s();Gt(n=>{Ct.title="Model Garden - Dashboard"});var fe=s(pe),Ce=s(fe),Je=s(Ce),ye=s(Je),it=a(s(ye),2);Ae(it,{variant:"info",size:"sm",class:"ml-3",children:(n,F)=>{R();var S=T("Dashboard");r(n,S)},$$slots:{default:!0}}),e(ye);var He=a(ye,2),Ie=s(He);Y(Ie,{href:"/training/new",variant:"primary",children:(n,F)=>{R();var S=T("+ New Training");r(n,S)},$$slots:{default:!0}});var dt=a(Ie,2);Y(dt,{href:"/models",variant:"secondary",children:(n,F)=>{R();var S=T("View Models");r(n,S)},$$slots:{default:!0}}),e(He),e(Je),e(Ce),e(fe);var Le=a(fe,2),vt=s(Le);{var lt=n=>{var F=Ht();r(n,F)},ot=n=>{var F=Jt(),S=re(F);{var oe=X=>{var Z=It(),I=s(Z),ne=s(I,!0);e(I);var ce=a(I,2);Y(ce,{onclick:()=>window.location.reload(),variant:"primary",class:"mt-4",children:(he,$e)=>{R();var be=T("Retry");r(he,be)},$$slots:{default:!0}}),e(Z),u(()=>c(ne,t(J))),r(X,Z)},nt=X=>{var Z=ms(),I=re(Z),ne=s(I);D(ne,{children:(d,_)=>{var o=Lt(),i=a(s(o),2),g=a(s(i),2),h=s(g,!0);e(g),e(i),e(o),u(()=>c(h,t(l)?.storage.models_count||0)),r(d,o)},$$slots:{default:!0}});var ce=a(ne,2);D(ce,{children:(d,_)=>{var o=Vt(),i=a(s(o),2),g=a(s(i),2),h=s(g,!0);e(g),e(i),e(o),u(()=>c(h,t(l)?.storage.training_jobs_count||0)),r(d,o)},$$slots:{default:!0}});var he=a(ce,2);D(he,{children:(d,_)=>{var o=Nt(),i=a(s(o),2),g=a(s(i),2),h=s(g,!0);e(g),e(i),e(o),u(()=>c(h,t(l)?.storage.active_jobs||0)),r(d,o)},$$slots:{default:!0}}),e(I);var $e=a(I,2);{var be=d=>{var _=es(),o=s(_);D(o,{children:(i,g)=>{var h=Zt(),w=a(re(h),2),y=s(w),j=a(s(y),2),ie=s(j);e(j);var A=a(j,2);{var de=p=>{var $=Wt(),f=re($),U=s(f);e(f);var v=a(f,2),B=s(v);e(v),u(C=>{le(U,`width: ${t(l).system.memory_percent??""}%`),c(B,`${C??""}% used`)},[()=>t(l).system.memory_percent.toFixed(1)]),r(p,$)};b(A,p=>{t(l).system.memory_percent&&p(de)})}e(y);var L=a(y,2),V=a(s(L),2),N=s(V,!0);e(V);var W=a(V,2);{var q=p=>{var $=qt(),f=re($),U=s(f);let v;e(f);var B=a(f,2),C=s(B);e(B),u((K,te)=>{v=me(U,1,"h-1.5 rounded-full transition-all",null,v,K),le(U,`width: ${t(l).system.cpu_percent??""}%`),c(C,`${te??""}% used`)},[()=>({"bg-red-500":t(l).system.cpu_percent>90,"bg-yellow-500":t(l).system.cpu_percent>70&&t(l).system.cpu_percent<=90,"bg-green-500":t(l).system.cpu_percent<=70}),()=>t(l).system.cpu_percent.toFixed(1)]),r(p,$)};b(W,p=>{t(l).system.cpu_percent&&p(q)})}e(L);var ee=a(L,2),x=a(s(ee),2),P=s(x);e(x);var E=a(x,2);{var G=p=>{var $=Et(),f=re($),U=s(f);let v;e(f);var B=a(f,2),C=s(B);e(B),u((K,te)=>{v=me(U,1,"h-1.5 rounded-full transition-all",null,v,K),le(U,`width: ${t(l).system.disk_usage.percent??""}%`),c(C,`${te??""}% used`)},[()=>({"bg-red-500":t(l).system.disk_usage.percent>90,"bg-yellow-500":t(l).system.disk_usage.percent>70&&t(l).system.disk_usage.percent<=90,"bg-green-500":t(l).system.disk_usage.percent<=70}),()=>t(l).system.disk_usage.percent.toFixed(1)]),r(p,$)};b(E,p=>{t(l).system.disk_usage.percent&&p(G)})}e(ee),e(w);var ht=a(w,2);{var $t=p=>{var $=Xt(),f=a(s($),2);Re(f,21,()=>t(l).gpu.devices,Te,(U,v)=>{var B=Ot(),C=s(B),K=s(C),te=a(s(K),2),ze=s(te),bt=s(ze,!0);e(ze);var Ke=a(ze,2),wt=s(Ke);e(Ke),e(te),e(K);var Pt=a(K,2);{var kt=k=>{var M=Kt(),z=a(s(M),2);let Q;var se=s(z);e(z),e(M),u(ae=>{Q=me(z,1,"font-medium",null,Q,ae),c(se,`${t(v).temperature??""}Â°C`)},[()=>({"text-orange-600":t(v).temperature>80,"text-yellow-600":t(v).temperature>70&&t(v).temperature<=80,"text-green-600":t(v).temperature<=70})]),r(k,M)};b(Pt,k=>{t(v).temperature&&k(kt)})}e(C);var Fe=a(C,2),Se=s(Fe),je=s(Se),Qe=a(s(je),2),Mt=s(Qe);e(Qe),e(je);var Be=a(je,2),Ye=s(Be);let Oe;e(Be);var Xe=a(Be,2),zt=s(Xe);e(Xe),e(Se);var Ft=a(Se,2);{var St=k=>{var M=Qt(),z=s(M),Q=a(s(z),2),se=s(Q);e(Q),e(z);var ae=a(z,2),De=s(ae);e(ae),e(M),u(()=>{c(se,`${t(v).utilization.gpu??""}%`),le(De,`width: ${t(v).utilization.gpu??""}%`)}),r(k,M)};b(Ft,k=>{t(v).utilization.gpu!==null&&k(St)})}e(Fe);var jt=a(Fe,2);{var Bt=k=>{var M=Yt(),z=a(s(M),2),Q=s(z);e(z);var se=a(z,2),ae=s(se);e(se),e(M),u((De,Dt)=>{c(Q,`${De??""}W`),c(ae,`/ ${Dt??""}W`)},[()=>t(v).power.usage.toFixed(1),()=>t(v).power.limit.toFixed(0)]),r(k,M)};b(jt,k=>{t(v).power&&k(Bt)})}e(B),u((k,M,z)=>{c(bt,t(v).name),c(wt,`GPU ${t(v).id??""}`),c(Mt,`${k??""} / ${M??""}`),Oe=me(Ye,1,"h-2 rounded-full transition-all",null,Oe,z),le(Ye,`width: ${t(v).memory.used_percent??""}%`),c(zt,`${t(v).memory.used_percent??""}% used`)},[()=>O(t(v).memory.used),()=>O(t(v).memory.total),()=>({"bg-red-500":t(v).memory.used_percent>90,"bg-yellow-500":t(v).memory.used_percent>70&&t(v).memory.used_percent<=90,"bg-green-500":t(v).memory.used_percent<=70})]),r(U,B)}),e(f),e($),r(p,$)};b(ht,p=>{t(l).gpu.available&&t(l).gpu.devices&&p($t)})}u((p,$,f)=>{c(ie,`${p??""} / ${$??""}`),c(N,t(l).system.cpu_count),c(P,`${f??""} free`)},[()=>O(t(l).system.memory_used),()=>O(t(l).system.memory_total),()=>O(t(l).system.disk_usage.free)]),r(i,h)},$$slots:{default:!0}}),e(_),r(d,_)};b($e,d=>{t(l)&&d(be)})}var we=a($e,2),Ve=a(s(we),2),Ne=s(Ve);D(Ne,{hoverable:!0,children:(d,_)=>{var o=ts();r(d,o)},$$slots:{default:!0}});var We=a(Ne,2);D(We,{hoverable:!0,children:(d,_)=>{var o=ss();r(d,o)},$$slots:{default:!0}});var ct=a(We,2);D(ct,{hoverable:!0,children:(d,_)=>{var o=as();r(d,o)},$$slots:{default:!0}}),e(Ve),e(we);var qe=a(we,2),Pe=s(qe),ke=s(Pe),mt=a(s(ke),2);Y(mt,{href:"/models",variant:"ghost",size:"sm",children:(d,_)=>{R();var o=T("View All");r(d,o)},$$slots:{default:!0}}),e(ke);var _t=a(ke,2);{var xt=d=>{D(d,{children:(_,o)=>{var i=rs(),g=a(s(i),4);Y(g,{href:"/training/new",variant:"primary",size:"sm",class:"mt-3",children:(h,w)=>{R();var y=T("Train Your First Model");r(h,y)},$$slots:{default:!0}}),e(i),r(_,i)},$$slots:{default:!0}})},ut=d=>{var _=vs();Re(_,21,()=>t(xe).slice(0,3),Te,(o,i)=>{D(o,{hoverable:!0,children:(g,h)=>{var w=ds(),y=s(w),j=s(y),ie=s(j,!0);e(j);var A=a(j,2),de=s(A,!0);e(A);var L=a(A,2);{var V=x=>{var P=is(),E=s(P,!0);e(P),u(G=>c(E,G),[()=>O(t(i).size_bytes)]),r(x,P)};b(L,x=>{t(i).size_bytes&&x(V)})}e(y);var N=a(y,2),W=s(N);{let x=et(()=>t(i).status==="available"?"success":"warning");Ae(W,{get variant(){return t(x)},size:"sm",children:(P,E)=>{R();var G=T();u(()=>c(G,t(i).status)),r(P,G)},$$slots:{default:!0}})}var q=a(W,2),ee=s(q,!0);e(q),e(N),e(w),u(x=>{c(ie,t(i).name),c(de,t(i).base_model),c(ee,x)},[()=>Ue(t(i).created_at)]),r(g,w)},$$slots:{default:!0}})}),e(_),r(d,_)};b(_t,d=>{t(xe).length===0?d(xt):d(ut,!1)})}e(Pe);var Ee=a(Pe,2),Me=s(Ee),gt=a(s(Me),2);Y(gt,{href:"/training",variant:"ghost",size:"sm",children:(d,_)=>{R();var o=T("View All");r(d,o)},$$slots:{default:!0}}),e(Me);var pt=a(Me,2);{var ft=d=>{D(d,{children:(_,o)=>{var i=ls(),g=a(s(i),4);Y(g,{href:"/training/new",variant:"primary",size:"sm",class:"mt-3",children:(h,w)=>{R();var y=T("Start Training");r(h,y)},$$slots:{default:!0}}),e(i),r(_,i)},$$slots:{default:!0}})},yt=d=>{var _=cs();Re(_,21,()=>t(ue),Te,(o,i)=>{D(o,{hoverable:!0,children:(g,h)=>{var w=ns(),y=s(w),j=s(y),ie=s(j,!0);e(j);var A=a(j,2),de=s(A,!0);e(A);var L=a(A,2);{var V=x=>{var P=os(),E=s(P);e(P),u(()=>c(E,`Step ${t(i).progress.current_step??""} / ${t(i).progress.total_steps??""}`)),r(x,P)};b(L,x=>{t(i).progress&&x(V)})}e(y);var N=a(y,2),W=s(N);{let x=et(()=>t(i).status==="completed"?"success":t(i).status==="failed"?"error":t(i).status==="running"?"info":"warning");Ae(W,{get variant(){return t(x)},size:"sm",children:(P,E)=>{R();var G=T();u(()=>c(G,t(i).status)),r(P,G)},$$slots:{default:!0}})}var q=a(W,2),ee=s(q,!0);e(q),e(N),e(w),u(x=>{c(ie,t(i).name),c(de,t(i).base_model),c(ee,x)},[()=>Ue(t(i).created_at)]),r(g,w)},$$slots:{default:!0}})}),e(_),r(d,_)};b(pt,d=>{t(ue).length===0?d(ft):d(yt,!1)})}e(Ee),e(qe),r(X,Z)};b(S,X=>{t(J)?X(oe):X(nt,!1)},!0)}r(n,F)};b(vt,n=>{t(Ge)?n(lt):n(ot,!1)})}e(Le),e(pe),r(tt,pe),Ut()}export{bs as component};
