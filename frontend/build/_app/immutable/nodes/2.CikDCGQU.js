import"../chunks/DsnmJJEf.js";import{p as Ue,s as st,a as Zt,o as Re,f as o,h as Ae,b as r,c as Ce,$ as Je,d as at,e,g as a,n as j,t as S,r as t,i as s,j as He,k as lt,l as g,m as l,u as te}from"../chunks/D_fozEd9.js";import{i as $}from"../chunks/C2ngLJft.js";import{e as jt,s as ee,i as St}from"../chunks/489nzvkF.js";import{s as Dt}from"../chunks/D2yluV1s.js";import{B as K,C as T}from"../chunks/DWJusdRQ.js";import{B as rt}from"../chunks/CtEMOJqH.js";import{a as Gt}from"../chunks/DDX8PMdG.js";var Le=o('<div class="text-center py-12"><div class="inline-block w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"></div> <p class="mt-2 text-gray-600">Loading dashboard...</p></div>'),Ne=o('<div class="text-center py-12"><div class="text-red-600 text-lg"> </div> <!></div>'),Ve=o('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center"><span class="text-primary-600 text-lg">ðŸ“¦</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Models</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),We=o('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-carbon-100 rounded-lg flex items-center justify-center"><span class="text-carbon-600 text-lg">âš¡</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Training Jobs</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Ee=o('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"><span class="text-green-600 text-lg">ðŸš€</span></div></div> <div class="ml-4"><div class="text-sm font-medium text-gray-500">Active Jobs</div> <div class="text-2xl font-bold text-gray-900"> </div></div></div>'),Ke=o('<div class="text-xs text-gray-400"> </div>'),Qe=o('<div class="w-full bg-gray-200 rounded-full h-1.5 mt-1"><div class="bg-blue-600 h-1.5 rounded-full"></div></div> <div class="text-xs text-gray-400 mt-0.5"> </div>',1),Ye=o('<div class="text-xs text-gray-400"> </div>'),qe=o('<div class="text-sm"><span class="text-gray-500">Temp:</span> <span> </span></div>'),Ie=o('<div><div class="flex justify-between text-xs text-gray-600 mb-1"><span>GPU Utilization</span> <span> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-blue-500 h-2 rounded-full transition-all"></div></div></div>'),Oe=o('<div class="mt-3 text-xs text-gray-600"><span>Power:</span> <span class="font-medium text-gray-900"> </span> <span class="text-gray-400"> </span></div>'),Xe=o('<div class="bg-gray-50 rounded-lg p-4"><div class="flex items-center justify-between mb-3"><div class="flex items-center gap-2"><span class="text-lg">ðŸŽ®</span> <div><div class="font-medium text-gray-900"> </div> <div class="text-xs text-gray-500"> </div></div></div> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-3"><div><div class="flex justify-between text-xs text-gray-600 mb-1"><span>VRAM</span> <span> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div></div></div> <div class="text-xs text-gray-500 mt-0.5"> </div></div> <!></div> <!></div>'),Ze=o('<div class="border-t pt-4"><h4 class="text-sm font-semibold text-gray-700 mb-3">GPU Details</h4> <div class="space-y-4"></div></div>'),ts=o('<h3 class="text-lg font-semibold text-gray-900 mb-4">System Status</h3> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"><div><div class="text-sm text-gray-500">CPU Cores</div> <div class="font-medium"> </div> <!></div> <div><div class="text-sm text-gray-500">System Memory</div> <div class="font-medium"> </div> <!></div> <div><div class="text-sm text-gray-500">GPU Status</div> <div class="font-medium"><!></div></div> <div><div class="text-sm text-gray-500">Disk Space</div> <div class="font-medium"> </div> <!></div></div> <!>',1),es=o('<div class="mb-8"><!></div>'),ss=o('<a href="/models/browse" class="block p-6 hover:bg-gray-50 transition-colors"><div class="flex items-center mb-3"><div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center"><span class="text-orange-600 text-xl">ðŸ¤—</span></div> <h3 class="ml-3 text-lg font-semibold text-gray-900">Browse HuggingFace</h3></div> <p class="text-gray-600 text-sm">Discover and load popular models from HuggingFace Hub instantly</p></a>'),as=o('<a href="/models/load" class="block p-6 hover:bg-gray-50 transition-colors"><div class="flex items-center mb-3"><div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"><span class="text-blue-600 text-xl">ðŸ”Œ</span></div> <h3 class="ml-3 text-lg font-semibold text-gray-900">Load Model</h3></div> <p class="text-gray-600 text-sm">Load local or HuggingFace models for inference and chat</p></a>'),rs=o('<a href="/training/new" class="block p-6 hover:bg-gray-50 transition-colors"><div class="flex items-center mb-3"><div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center"><span class="text-green-600 text-xl">âš¡</span></div> <h3 class="ml-3 text-lg font-semibold text-gray-900">Train Model</h3></div> <p class="text-gray-600 text-sm">Fine-tune language models on your custom datasets</p></a>'),is=o('<div class="text-center py-8"><div class="text-gray-400 text-4xl mb-2">ðŸ“¦</div> <p class="text-gray-500">No models yet</p> <!></div>'),vs=o('<p class="text-xs text-gray-400"> </p>'),ds=o('<div class="flex items-center justify-between"><div><h4 class="font-medium text-gray-900"> </h4> <p class="text-sm text-gray-500"> </p> <!></div> <div class="text-right"><!> <p class="text-xs text-gray-400 mt-1"> </p></div></div>'),ls=o('<div class="space-y-3"></div>'),os=o('<div class="text-center py-8"><div class="text-gray-400 text-4xl mb-2">âš¡</div> <p class="text-gray-500">No training jobs yet</p> <!></div>'),ns=o('<div class="text-xs text-gray-400"> </div>'),cs=o('<div class="flex items-center justify-between"><div><h4 class="font-medium text-gray-900"> </h4> <p class="text-sm text-gray-500"> </p> <!></div> <div class="text-right"><!> <p class="text-xs text-gray-400 mt-1"> </p></div></div>'),ms=o('<div class="space-y-3"></div>'),xs=o('<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"><!> <!> <!></div> <!> <div class="mb-8"><h2 class="text-xl font-semibold text-gray-900 mb-4">Quick Actions</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><!> <!> <!></div></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><div><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-semibold text-gray-900">Recent Models</h2> <!></div> <!></div> <div><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-semibold text-gray-900">Recent Training Jobs</h2> <!></div> <!></div></div>',1),_s=o('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div class="flex items-center"><h1 class="text-3xl font-bold text-gray-900">ðŸŒ± Model Garden</h1> <!></div> <div class="flex gap-3"><!> <!></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div>');function ws(se,ae){Ue(ae,!0);let ot=st(Zt([])),nt=st(Zt([])),_=st(null),Tt=st(!0),ct=st("");Re(async()=>{try{const[n,F,D]=await Promise.all([Gt.getModels(),Gt.getTrainingJobs(),Gt.getSystemStatus()]);at(ot,n.items,!0),at(nt,F.items.slice(0,5),!0),at(_,D,!0)}catch(n){at(ct,n instanceof Error?n.message:"Failed to load data",!0)}finally{at(Tt,!1)}});function Q(n){if(n===0)return"0 Bytes";const F=1024,D=["Bytes","KB","MB","GB"],it=Math.floor(Math.log(n)/Math.log(F));return parseFloat((n/Math.pow(F,it)).toFixed(2))+" "+D[it]}function Ut(n){return n==="unknown"?"Unknown":new Date(n).toLocaleDateString()}var mt=_s();Ae(n=>{Je.title="Model Garden - Dashboard"});var xt=e(mt),Rt=e(xt),At=e(Rt),_t=e(At),re=a(e(_t),2);rt(re,{variant:"info",size:"sm",class:"ml-3",children:(n,F)=>{j();var D=S("Dashboard");r(n,D)},$$slots:{default:!0}}),t(_t);var Ct=a(_t,2),Jt=e(Ct);K(Jt,{href:"/training/new",variant:"primary",children:(n,F)=>{j();var D=S("+ New Training");r(n,D)},$$slots:{default:!0}});var ie=a(Jt,2);K(ie,{href:"/models",variant:"secondary",children:(n,F)=>{j();var D=S("View Models");r(n,D)},$$slots:{default:!0}}),t(Ct),t(At),t(Rt),t(xt);var Ht=a(xt,2),ve=e(Ht);{var de=n=>{var F=Le();r(n,F)},le=n=>{var F=He(),D=lt(F);{var it=Y=>{var q=Ne(),A=e(q),vt=e(A,!0);t(A);var dt=a(A,2);K(dt,{onclick:()=>window.location.reload(),variant:"primary",class:"mt-4",children:(ut,gt)=>{j();var pt=S("Retry");r(ut,pt)},$$slots:{default:!0}}),t(q),g(()=>l(vt,s(ct))),r(Y,q)},oe=Y=>{var q=xs(),A=lt(q),vt=e(A);T(vt,{children:(v,x)=>{var d=Ve(),i=a(e(d),2),f=a(e(i),2),h=e(f,!0);t(f),t(i),t(d),g(()=>l(h,s(_)?.storage.models_count||0)),r(v,d)},$$slots:{default:!0}});var dt=a(vt,2);T(dt,{children:(v,x)=>{var d=We(),i=a(e(d),2),f=a(e(i),2),h=e(f,!0);t(f),t(i),t(d),g(()=>l(h,s(_)?.storage.training_jobs_count||0)),r(v,d)},$$slots:{default:!0}});var ut=a(dt,2);T(ut,{children:(v,x)=>{var d=Ee(),i=a(e(d),2),f=a(e(i),2),h=e(f,!0);t(f),t(i),t(d),g(()=>l(h,s(_)?.storage.active_jobs||0)),r(v,d)},$$slots:{default:!0}}),t(A);var gt=a(A,2);{var pt=v=>{var x=es(),d=e(x);T(d,{children:(i,f)=>{var h=ts(),w=a(lt(h),2),y=e(w),G=a(e(y),2),X=e(G,!0);t(G);var U=a(G,2);{var Z=m=>{var u=Ke(),b=e(u);t(u),g(B=>l(b,`${B??""}% used`),[()=>s(_).system.cpu_percent.toFixed(1)]),r(m,u)};$(U,m=>{s(_).system.cpu_percent&&m(Z)})}t(y);var C=a(y,2),J=a(e(C),2),H=e(J);t(J);var L=a(J,2);{var N=m=>{var u=Qe(),b=lt(u),B=e(b);t(b);var c=a(b,2),tt=e(c);t(c),g(et=>{Dt(B,`width: ${s(_).system.memory_percent??""}%`),l(tt,`${et??""}% used`)},[()=>s(_).system.memory_percent.toFixed(1)]),r(m,u)};$(L,m=>{s(_).system.memory_percent&&m(N)})}t(C);var V=a(C,2),p=a(e(V),2),P=e(p);{var W=m=>{rt(m,{variant:"success",size:"sm",children:(u,b)=>{j();var B=S();g(()=>l(B,`${(s(_).gpu.device_count||0)??""} GPU${(s(_).gpu.device_count||0)>1?"s":""}`)),r(u,B)},$$slots:{default:!0}})},R=m=>{rt(m,{variant:"error",size:"sm",children:(u,b)=>{j();var B=S("Not Available");r(u,B)},$$slots:{default:!0}})};$(P,m=>{s(_).gpu.available?m(W):m(R,!1)})}t(p),t(V);var Kt=a(V,2),bt=a(e(Kt),2),ye=e(bt);t(bt);var $e=a(bt,2);{var he=m=>{var u=Ye(),b=e(u);t(u),g(B=>l(b,`${B??""}% used`),[()=>s(_).system.disk_usage.percent.toFixed(1)]),r(m,u)};$($e,m=>{s(_).system.disk_usage.percent&&m(he)})}t(Kt),t(w);var be=a(w,2);{var we=m=>{var u=Ze(),b=a(e(u),2);jt(b,21,()=>s(_).gpu.devices,St,(B,c)=>{var tt=Xe(),et=e(tt),wt=e(et),Qt=a(e(wt),2),Pt=e(Qt),Pe=e(Pt,!0);t(Pt);var Yt=a(Pt,2),ke=e(Yt);t(Yt),t(Qt),t(wt);var Me=a(wt,2);{var ze=k=>{var M=qe(),z=a(e(M),2);let E;var I=e(z);t(z),t(M),g(O=>{E=ee(z,1,"font-medium",null,E,O),l(I,`${s(c).temperature??""}Â°C`)},[()=>({"text-orange-600":s(c).temperature>80,"text-yellow-600":s(c).temperature>70&&s(c).temperature<=80,"text-green-600":s(c).temperature<=70})]),r(k,M)};$(Me,k=>{s(c).temperature&&k(ze)})}t(et);var kt=a(et,2),Mt=e(kt),zt=e(Mt),qt=a(e(zt),2),Fe=e(qt);t(qt),t(zt);var Ft=a(zt,2),It=e(Ft);let Ot;t(Ft);var Xt=a(Ft,2),Be=e(Xt);t(Xt),t(Mt);var je=a(Mt,2);{var Se=k=>{var M=Ie(),z=e(M),E=a(e(z),2),I=e(E);t(E),t(z);var O=a(z,2),Bt=e(O);t(O),t(M),g(()=>{l(I,`${s(c).utilization.gpu??""}%`),Dt(Bt,`width: ${s(c).utilization.gpu??""}%`)}),r(k,M)};$(je,k=>{s(c).utilization.gpu!==null&&k(Se)})}t(kt);var De=a(kt,2);{var Ge=k=>{var M=Oe(),z=a(e(M),2),E=e(z);t(z);var I=a(z,2),O=e(I);t(I),t(M),g((Bt,Te)=>{l(E,`${Bt??""}W`),l(O,`/ ${Te??""}W`)},[()=>s(c).power.usage.toFixed(1),()=>s(c).power.limit.toFixed(0)]),r(k,M)};$(De,k=>{s(c).power&&k(Ge)})}t(tt),g((k,M,z)=>{l(Pe,s(c).name),l(ke,`GPU ${s(c).id??""}`),l(Fe,`${k??""} / ${M??""}`),Ot=ee(It,1,"h-2 rounded-full transition-all",null,Ot,z),Dt(It,`width: ${s(c).memory.used_percent??""}%`),l(Be,`${s(c).memory.used_percent??""}% used`)},[()=>Q(s(c).memory.used),()=>Q(s(c).memory.total),()=>({"bg-red-500":s(c).memory.used_percent>90,"bg-yellow-500":s(c).memory.used_percent>70&&s(c).memory.used_percent<=90,"bg-green-500":s(c).memory.used_percent<=70})]),r(B,tt)}),t(b),t(u),r(m,u)};$(be,m=>{s(_).gpu.available&&s(_).gpu.devices&&m(we)})}g((m,u,b)=>{l(X,s(_).system.cpu_count),l(H,`${m??""} / ${u??""}`),l(ye,`${b??""} free`)},[()=>Q(s(_).system.memory_used),()=>Q(s(_).system.memory_total),()=>Q(s(_).system.disk_usage.free)]),r(i,h)},$$slots:{default:!0}}),t(x),r(v,x)};$(gt,v=>{s(_)&&v(pt)})}var ft=a(gt,2),Lt=a(e(ft),2),Nt=e(Lt);T(Nt,{hoverable:!0,children:(v,x)=>{var d=ss();r(v,d)},$$slots:{default:!0}});var Vt=a(Nt,2);T(Vt,{hoverable:!0,children:(v,x)=>{var d=as();r(v,d)},$$slots:{default:!0}});var ne=a(Vt,2);T(ne,{hoverable:!0,children:(v,x)=>{var d=rs();r(v,d)},$$slots:{default:!0}}),t(Lt),t(ft);var Wt=a(ft,2),yt=e(Wt),$t=e(yt),ce=a(e($t),2);K(ce,{href:"/models",variant:"ghost",size:"sm",children:(v,x)=>{j();var d=S("View All");r(v,d)},$$slots:{default:!0}}),t($t);var me=a($t,2);{var xe=v=>{T(v,{children:(x,d)=>{var i=is(),f=a(e(i),4);K(f,{href:"/training/new",variant:"primary",size:"sm",class:"mt-3",children:(h,w)=>{j();var y=S("Train Your First Model");r(h,y)},$$slots:{default:!0}}),t(i),r(x,i)},$$slots:{default:!0}})},_e=v=>{var x=ls();jt(x,21,()=>s(ot).slice(0,3),St,(d,i)=>{T(d,{hoverable:!0,children:(f,h)=>{var w=ds(),y=e(w),G=e(y),X=e(G,!0);t(G);var U=a(G,2),Z=e(U,!0);t(U);var C=a(U,2);{var J=p=>{var P=vs(),W=e(P,!0);t(P),g(R=>l(W,R),[()=>Q(s(i).size_bytes)]),r(p,P)};$(C,p=>{s(i).size_bytes&&p(J)})}t(y);var H=a(y,2),L=e(H);{let p=te(()=>s(i).status==="available"?"success":"warning");rt(L,{get variant(){return s(p)},size:"sm",children:(P,W)=>{j();var R=S();g(()=>l(R,s(i).status)),r(P,R)},$$slots:{default:!0}})}var N=a(L,2),V=e(N,!0);t(N),t(H),t(w),g(p=>{l(X,s(i).name),l(Z,s(i).base_model),l(V,p)},[()=>Ut(s(i).created_at)]),r(f,w)},$$slots:{default:!0}})}),t(x),r(v,x)};$(me,v=>{s(ot).length===0?v(xe):v(_e,!1)})}t(yt);var Et=a(yt,2),ht=e(Et),ue=a(e(ht),2);K(ue,{href:"/training",variant:"ghost",size:"sm",children:(v,x)=>{j();var d=S("View All");r(v,d)},$$slots:{default:!0}}),t(ht);var ge=a(ht,2);{var pe=v=>{T(v,{children:(x,d)=>{var i=os(),f=a(e(i),4);K(f,{href:"/training/new",variant:"primary",size:"sm",class:"mt-3",children:(h,w)=>{j();var y=S("Start Training");r(h,y)},$$slots:{default:!0}}),t(i),r(x,i)},$$slots:{default:!0}})},fe=v=>{var x=ms();jt(x,21,()=>s(nt),St,(d,i)=>{T(d,{hoverable:!0,children:(f,h)=>{var w=cs(),y=e(w),G=e(y),X=e(G,!0);t(G);var U=a(G,2),Z=e(U,!0);t(U);var C=a(U,2);{var J=p=>{var P=ns(),W=e(P);t(P),g(()=>l(W,`Step ${s(i).progress.current_step??""} / ${s(i).progress.total_steps??""}`)),r(p,P)};$(C,p=>{s(i).progress&&p(J)})}t(y);var H=a(y,2),L=e(H);{let p=te(()=>s(i).status==="completed"?"success":s(i).status==="failed"?"error":s(i).status==="running"?"info":"warning");rt(L,{get variant(){return s(p)},size:"sm",children:(P,W)=>{j();var R=S();g(()=>l(R,s(i).status)),r(P,R)},$$slots:{default:!0}})}var N=a(L,2),V=e(N,!0);t(N),t(H),t(w),g(p=>{l(X,s(i).name),l(Z,s(i).base_model),l(V,p)},[()=>Ut(s(i).created_at)]),r(f,w)},$$slots:{default:!0}})}),t(x),r(v,x)};$(ge,v=>{s(nt).length===0?v(pe):v(fe,!1)})}t(Et),t(Wt),r(Y,q)};$(D,Y=>{s(ct)?Y(it):Y(oe,!1)},!0)}r(n,F)};$(ve,n=>{s(Tt)?n(de):n(le,!1)})}t(Ht),t(mt),r(se,mt),Ce()}export{ws as component};
