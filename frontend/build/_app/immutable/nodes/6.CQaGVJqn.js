import"../chunks/DsnmJJEf.js";import{p as Mt,s as S,a as kt,o as Bt,f as $,h as Pt,b as s,c as zt,$ as Dt,t as c,e as a,g as o,d as B,n as l,r as e,i as r,j as st,k as it,l as T,m as h,u as A}from"../chunks/nG1nXqCg.js";import{i as K}from"../chunks/95pJECEZ.js";import{e as Ft,i as Ct}from"../chunks/0MiSZMzD.js";import{B as p,a as ot,C as Lt}from"../chunks/DYLRpWCU.js";import{B as Ut}from"../chunks/BhJxjrck.js";var jt=$('<div class="text-center py-12"><div class="inline-block w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"></div> <p class="mt-2 text-gray-600">Loading models...</p></div>'),Gt=$('<div class="text-center py-12"><div class="text-red-600 text-lg"> </div> <!></div>'),Et=$('<div class="text-center py-12"><div class="text-gray-400 text-6xl mb-4">📦</div> <h3 class="text-xl font-semibold text-gray-900 mb-2">No models yet</h3> <p class="text-gray-500 mb-6">Start by training your first model to see it here.</p> <!></div>'),Nt=$('<div class="space-y-4"><div class="flex items-start justify-between"><div><h3 class="text-lg font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div> <!></div> <div class="grid grid-cols-2 gap-4"><div><div class="text-xs text-gray-500">Size</div> <div class="font-medium"> </div></div> <div><div class="text-xs text-gray-500">Created</div> <div class="font-medium"> </div></div></div> <div class="flex gap-2 pt-2 border-t"><!> <!> <!></div></div>'),Rt=$('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),St=$('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div class="flex items-center"><!> <h1 class="text-3xl font-bold text-gray-900 ml-4">Models</h1></div> <div class="flex gap-3"><!> <!></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div>');function Ht(dt,lt){Mt(lt,!0);let y=S(kt([])),W=S(!0),P=S("");Bt(async()=>{try{const t=await ot.getModels();B(y,t.items,!0)}catch(t){B(P,t instanceof Error?t.message:"Failed to load models",!0)}finally{B(W,!1)}});function vt(t){if(t===0)return"0 Bytes";const i=1024,v=["Bytes","KB","MB","GB"],M=Math.floor(Math.log(t)/Math.log(i));return parseFloat((t/Math.pow(i,M)).toFixed(2))+" "+v[M]}function nt(t){return t==="unknown"?"Unknown":new Date(t).toLocaleDateString()}async function ct(t){if(confirm("Are you sure you want to delete this model?"))try{await ot.deleteModel(t),B(y,r(y).filter(i=>i.id!==t),!0)}catch(i){alert("Failed to delete model: "+(i instanceof Error?i.message:"Unknown error"))}}var z=St();Pt(t=>{Dt.title="Models - Model Garden"});var D=a(z),Y=a(D),q=a(Y),F=a(q),ut=a(F);p(ut,{href:"/",variant:"ghost",size:"sm",children:(t,i)=>{l();var v=c("← Dashboard");s(t,v)},$$slots:{default:!0}}),l(2),e(F);var H=o(F,2),I=a(H);p(I,{href:"/models/load",variant:"secondary",children:(t,i)=>{l();var v=c("🔌 Load Model");s(t,v)},$$slots:{default:!0}});var ft=o(I,2);p(ft,{href:"/training/new",variant:"primary",children:(t,i)=>{l();var v=c("+ Train New Model");s(t,v)},$$slots:{default:!0}}),e(H),e(q),e(Y),e(D);var J=o(D,2),mt=a(J);{var pt=t=>{var i=jt();s(t,i)},xt=t=>{var i=st(),v=it(i);{var M=x=>{var _=Gt(),b=a(_),C=a(b,!0);e(b);var L=o(b,2);p(L,{onclick:()=>window.location.reload(),variant:"primary",class:"mt-4",children:(u,f)=>{l();var w=c("Retry");s(u,w)},$$slots:{default:!0}}),e(_),T(()=>h(C,r(P))),s(x,_)},_t=x=>{var _=st(),b=it(_);{var C=u=>{var f=Et(),w=o(a(f),6);p(w,{href:"/training/new",variant:"primary",children:(d,O)=>{l();var Q=c("Train Your First Model");s(d,Q)},$$slots:{default:!0}}),e(f),s(u,f)},L=u=>{var f=Rt();Ft(f,21,()=>r(y),Ct,(w,d)=>{Lt(w,{hoverable:!0,children:(O,Q)=>{var U=Nt(),j=a(U),G=a(j),E=a(G),gt=a(E,!0);e(E);var V=o(E,2),ht=a(V,!0);e(V),e(G);var $t=o(G,2);{let n=A(()=>r(d).status==="available"?"success":"warning");Ut($t,{get variant(){return r(n)},children:(m,k)=>{l();var g=c();T(()=>h(g,r(d).status)),s(m,g)},$$slots:{default:!0}})}e(j);var N=o(j,2),R=a(N),X=o(a(R),2),yt=a(X,!0);e(X),e(R);var Z=o(R,2),tt=o(a(Z),2),bt=a(tt,!0);e(tt),e(Z),e(N);var et=o(N,2),at=a(et);{let n=A(()=>`/models/load?model=${encodeURIComponent(r(d).path)}`);p(at,{get href(){return r(n)},variant:"primary",size:"sm",fullWidth:!0,children:(m,k)=>{l();var g=c("🔌 Load");s(m,g)},$$slots:{default:!0}})}var rt=o(at,2);{let n=A(()=>`/inference?model=${r(d).id}`);p(rt,{variant:"secondary",size:"sm",get href(){return r(n)},children:(m,k)=>{l();var g=c("Generate");s(m,g)},$$slots:{default:!0}})}var wt=o(rt,2);p(wt,{variant:"danger",size:"sm",onclick:()=>ct(r(d).id),children:(n,m)=>{l();var k=c("🗑️");s(n,k)},$$slots:{default:!0}}),e(et),e(U),T((n,m)=>{h(gt,r(d).name),h(ht,r(d).base_model),h(yt,n),h(bt,m)},[()=>r(d).size_bytes?vt(r(d).size_bytes):"Unknown",()=>nt(r(d).created_at)]),s(O,U)},$$slots:{default:!0}})}),e(f),s(u,f)};K(b,u=>{r(y).length===0?u(C):u(L,!1)},!0)}s(x,_)};K(v,x=>{r(P)?x(M):x(_t,!1)},!0)}s(t,i)};K(mt,t=>{r(W)?t(pt):t(xt,!1)})}e(J),e(z),s(dt,z),zt()}export{Ht as component};
