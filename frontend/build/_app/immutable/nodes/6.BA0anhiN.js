import"../chunks/DsnmJJEf.js";import{v as Ee,p as De,s as h,F as Oe,i as a,j as l,k as xe,l as ie,c as i,d as Se,f as g,e as r,g as s,r as t,m as J,n as f,w as Ne,q as F,t as b,u as fe,a as Re,o as Ie,h as qe,$ as Ke}from"../chunks/DLqH200v.js";import{p as We,i as U}from"../chunks/uQGPdJUk.js";import{a as Ye,r as Me,e as Ae,i as Ve}from"../chunks/BCgPi0gr.js";import{B as k,C as Je}from"../chunks/DtqFLeEY.js";import{B as Qe}from"../chunks/Dw1y8d7D.js";import{b as Be,c as Xe}from"../chunks/DIKPUBCA.js";import{a as Ue}from"../chunks/Btudmqni.js";function Ze(S,d){S.target===S.currentTarget&&d()}var ea=(S,d)=>S.key==="Escape"&&d(),aa=g('<button class="text-gray-400 hover:text-gray-600 transition-colors" aria-label="Close"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),ta=g('<div class="text-center py-8"><div class="text-green-500 text-6xl mb-4">‚úì</div> <h3 class="text-xl font-bold text-gray-900 mb-2">Model Uploaded Successfully!</h3> <p class="text-gray-600 mb-4">Your model is now available on HuggingFace Hub</p> <a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 font-medium">View on HuggingFace Hub <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></div>'),ra=g('<div class="flex justify-between"><span class="text-gray-600">Size:</span> <span class="font-medium text-gray-900"> </span></div>'),sa=g('<div class="bg-red-50 border border-red-200 rounded-lg p-4"><div class="flex gap-3"><div class="text-red-600 text-xl">‚ùå</div> <div class="text-sm text-red-800"><p class="font-semibold mb-1">Upload failed:</p> <p> </p></div></div></div>'),ia=g('<div class="bg-gray-50 rounded-lg p-4"><h3 class="text-sm font-semibold text-gray-700 mb-2">Model Details</h3> <div class="space-y-2 text-sm"><div class="flex justify-between"><span class="text-gray-600">Name:</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between"><span class="text-gray-600">Base Model:</span> <span class="font-medium text-gray-900"> </span></div> <!></div></div> <div class="space-y-4"><div><label for="repo-id" class="block text-sm font-medium text-gray-700 mb-1">Repository ID <span class="text-red-500">*</span></label> <input id="repo-id" type="text" placeholder="username/model-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent" required/> <p class="mt-1 text-xs text-gray-500">Format: your-username/model-name (e.g., john/my-finetuned-model)</p></div> <div class="flex items-center"><input id="is-private" type="checkbox" class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"/> <label for="is-private" class="ml-2 block text-sm text-gray-700">Make repository private</label></div> <div><label for="commit-message" class="block text-sm font-medium text-gray-700 mb-1">Commit Message</label> <input id="commit-message" type="text" placeholder="Upload model from Model Garden" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"/></div> <div><label for="repo-description" class="block text-sm font-medium text-gray-700 mb-1">Repository Description</label> <textarea id="repo-description" rows="3" placeholder="Describe your model..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"></textarea></div></div> <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4"><div class="flex gap-3"><div class="text-yellow-600 text-xl">‚ö†Ô∏è</div> <div class="text-sm text-yellow-800"><p class="font-semibold mb-1">Before uploading:</p> <ul class="list-disc ml-4 space-y-1"><li>Make sure you have a HuggingFace account and your HF_TOKEN is configured</li> <li>Ensure you have the necessary permissions to create repositories</li> <li>The entire model directory will be uploaded (this may take some time)</li> <li>Public repositories will be visible to everyone on HuggingFace Hub</li></ul></div></div></div> <!>',1),oa=g('<span class="flex items-center gap-2"><span class="inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></span> Uploading...</span>'),la=g('<div class="px-6 py-4 border-t border-gray-200 flex justify-end gap-3"><!> <!></div>'),da=g('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50" role="dialog" aria-modal="true" tabindex="-1"><div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"><div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between"><div><h2 class="text-xl font-bold text-gray-900">Upload to HuggingFace Hub</h2> <p class="text-sm text-gray-500 mt-1">Share your model with the community</p></div> <!></div> <div class="px-6 py-4 space-y-6"><!></div> <!></div></div>');function na(S,d){De(d,!0);let T=We(d,"isOpen",11,!1),$=h(""),R=h(!1),G=h("Upload model from Model Garden"),L=h(`Model fine-tuned with Model Garden. Base model: ${d.model.base_model}`),_=h(!1),E=h(""),Q=h(!1),oe=h("");Oe(()=>{if(T()&&!a($)){const x=d.model.name.toLowerCase().replace(/[^a-z0-9-_]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");l($,`username/${x}`)}});async function ge(){if(l(E,""),!a($)||!a($).includes("/")){l(E,'Repository ID must be in the format "username/repo-name"');return}l(_,!0);try{const x=await Ue.uploadModelToHub(d.model.id,{repo_id:a($),private:a(R),commit_message:a(G),repo_description:a(L)});l(Q,!0),l(oe,x.url,!0),d.onSuccess&&d.onSuccess(x.url),setTimeout(()=>{O()},3e3)}catch(x){l(E,x instanceof Error?x.message:"Failed to upload model",!0)}finally{l(_,!1)}}function O(){a(_)||(l(Q,!1),l(oe,""),l(E,""),d.onClose())}var X=xe(),le=ie(X);{var ne=x=>{var H=da();H.__click=[Ze,O],H.__keydown=[ea,O];var ve=r(H),Z=r(ve),ce=s(r(Z),2);{var ue=u=>{var e=aa();e.__click=O,i(u,e)};U(ce,u=>{a(_)||u(ue)})}t(Z);var de=s(Z,2),pe=r(de);{var _e=u=>{var e=ta(),o=s(r(e),6);t(e),J(()=>Ye(o,"href",a(oe))),i(u,e)},ye=u=>{var e=ia(),o=ie(e),p=s(r(o),2),w=r(p),I=s(r(w),2),M=r(I,!0);t(I),t(w);var y=s(w,2),z=s(r(y),2),q=r(z,!0);t(z),t(y);var K=s(y,2);{var n=c=>{var C=ra(),j=s(r(C),2),N=r(j);t(j),t(C),J(V=>F(N,`${V??""} GB`),[()=>(d.model.size_bytes/1073741824).toFixed(2)]),i(c,C)};U(K,c=>{d.model.size_bytes&&c(n)})}t(p),t(o);var m=s(o,2),P=r(m),v=s(r(P),2);Me(v),f(2),t(P);var ee=s(P,2),ae=r(ee);Me(ae),f(2),t(ee);var W=s(ee,2),Y=s(r(W),2);Me(Y),t(W);var te=s(W,2),A=s(r(te),2);Ne(A),t(te),t(m);var we=s(m,4);{var me=c=>{var C=sa(),j=r(C),N=s(r(j),2),V=s(r(N),2),ke=r(V,!0);t(V),t(N),t(j),t(C),J(()=>F(ke,a(E))),i(c,C)};U(we,c=>{a(E)&&c(me)})}J(()=>{F(M,d.model.name),F(q,d.model.base_model),v.disabled=a(_),ae.disabled=a(_),Y.disabled=a(_),A.disabled=a(_)}),Be(v,()=>a($),c=>l($,c)),Xe(ae,()=>a(R),c=>l(R,c)),Be(Y,()=>a(G),c=>l(G,c)),Be(A,()=>a(L),c=>l(L,c)),i(u,e)};U(pe,u=>{a(Q)?u(_e):u(ye,!1)})}t(de);var be=s(de,2);{var he=u=>{var e=la(),o=r(e);k(o,{variant:"secondary",onclick:O,get disabled(){return a(_)},children:(w,I)=>{f();var M=b("Cancel");i(w,M)},$$slots:{default:!0}});var p=s(o,2);{let w=fe(()=>a(_)||!a($));k(p,{variant:"primary",onclick:ge,get disabled(){return a(w)},children:(I,M)=>{var y=xe(),z=ie(y);{var q=n=>{var m=oa();i(n,m)},K=n=>{var m=b("üöÄ Upload to Hub");i(n,m)};U(z,n=>{a(_)?n(q):n(K,!1)})}i(I,y)},$$slots:{default:!0}})}t(e),i(u,e)};U(be,u=>{a(Q)||u(he)})}t(ve),t(H),i(x,H)};U(le,x=>{T()&&x(ne)})}i(S,X),Se()}Ee(["click","keydown"]);var va=g('<div class="text-center py-12"><div class="inline-block w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"></div> <p class="mt-2 text-gray-600">Loading models...</p></div>'),ca=g('<div class="text-center py-12"><div class="text-red-600 text-lg"> </div> <!></div>'),ua=g('<div class="text-center py-12"><div class="text-gray-400 text-6xl mb-4">üì¶</div> <h3 class="text-xl font-semibold text-gray-900 mb-2">No models yet</h3> <p class="text-gray-500 mb-6">Start by training your first model to see it here.</p> <!></div>'),pa=g('<div class="space-y-4"><div class="flex items-start justify-between"><div><h3 class="text-lg font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div> <!></div> <div class="grid grid-cols-2 gap-4"><div><div class="text-xs text-gray-500">Size</div> <div class="font-medium"> </div></div> <div><div class="text-xs text-gray-500">Created</div> <div class="font-medium"> </div></div></div> <div class="space-y-2 pt-2 border-t"><div class="flex gap-2"><!> <!></div> <div class="flex gap-2"><!> <!></div></div></div>'),ma=g('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),fa=g('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div class="flex items-center"><!> <h1 class="text-3xl font-bold text-gray-900 ml-4">Models</h1></div> <div class="flex gap-3"><!> <!> <!></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div> <!>',1);function $a(S,d){De(d,!0);let T=h(Re([])),$=h(!0),R=h(""),G=h(!1),L=h(null);Ie(async()=>{try{const e=await Ue.getModels();l(T,e.items,!0)}catch(e){l(R,e instanceof Error?e.message:"Failed to load models",!0)}finally{l($,!1)}});function _(e){if(e===0)return"0 Bytes";const o=1024,p=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(e)/Math.log(o));return parseFloat((e/Math.pow(o,w)).toFixed(2))+" "+p[w]}function E(e){return e==="unknown"?"Unknown":new Date(e).toLocaleDateString()}async function Q(e){if(confirm("Are you sure you want to delete this model?"))try{await Ue.deleteModel(e),l(T,a(T).filter(o=>o.id!==e),!0)}catch(o){alert("Failed to delete model: "+(o instanceof Error?o.message:"Unknown error"))}}function oe(e){l(L,e,!0),l(G,!0)}function ge(e){console.log("Model uploaded successfully:",e)}var O=fa();qe(e=>{Ke.title="Models - Model Garden"});var X=ie(O),le=r(X),ne=r(le),x=r(ne),H=r(x),ve=r(H);k(ve,{href:"/",variant:"ghost",size:"sm",children:(e,o)=>{f();var p=b("‚Üê Dashboard");i(e,p)},$$slots:{default:!0}}),f(2),t(H);var Z=s(H,2),ce=r(Z);k(ce,{href:"/models/browse",variant:"secondary",children:(e,o)=>{f();var p=b("ü§ó Browse HuggingFace");i(e,p)},$$slots:{default:!0}});var ue=s(ce,2);k(ue,{href:"/models/load",variant:"secondary",children:(e,o)=>{f();var p=b("üîå Load Model");i(e,p)},$$slots:{default:!0}});var de=s(ue,2);k(de,{href:"/training/new",variant:"primary",children:(e,o)=>{f();var p=b("+ Train New Model");i(e,p)},$$slots:{default:!0}}),t(Z),t(x),t(ne),t(le);var pe=s(le,2),_e=r(pe);{var ye=e=>{var o=va();i(e,o)},be=e=>{var o=xe(),p=ie(o);{var w=M=>{var y=ca(),z=r(y),q=r(z,!0);t(z);var K=s(z,2);k(K,{onclick:()=>window.location.reload(),variant:"primary",class:"mt-4",children:(n,m)=>{f();var P=b("Retry");i(n,P)},$$slots:{default:!0}}),t(y),J(()=>F(q,a(R))),i(M,y)},I=M=>{var y=xe(),z=ie(y);{var q=n=>{var m=ua(),P=s(r(m),6);k(P,{href:"/training/new",variant:"primary",children:(v,ee)=>{f();var ae=b("Train Your First Model");i(v,ae)},$$slots:{default:!0}}),t(m),i(n,m)},K=n=>{var m=ma();Ae(m,21,()=>a(T),Ve,(P,v)=>{Je(P,{hoverable:!0,children:(ee,ae)=>{var W=pa(),Y=r(W),te=r(Y),A=r(te),we=r(A,!0);t(A);var me=s(A,2),c=r(me,!0);t(me),t(te);var C=s(te,2);{let B=fe(()=>a(v).status==="available"?"success":"warning");Qe(C,{get variant(){return a(B)},children:(D,re)=>{f();var se=b();J(()=>F(se,a(v).status)),i(D,se)},$$slots:{default:!0}})}t(Y);var j=s(Y,2),N=r(j),V=s(r(N),2),ke=r(V,!0);t(V),t(N);var ze=s(N,2),Fe=s(r(ze),2),Te=r(Fe,!0);t(Fe),t(ze),t(j);var He=s(j,2),$e=r(He),Pe=r($e);{let B=fe(()=>`/models/load?model=${encodeURIComponent(a(v).path)}`);k(Pe,{get href(){return a(B)},variant:"primary",size:"sm",fullWidth:!0,children:(D,re)=>{f();var se=b("üîå Load");i(D,se)},$$slots:{default:!0}})}var Ge=s(Pe,2);{let B=fe(()=>`/inference?model=${a(v).id}`);k(Ge,{variant:"secondary",size:"sm",get href(){return a(B)},children:(D,re)=>{f();var se=b("Generate");i(D,se)},$$slots:{default:!0}})}t($e);var Ce=s($e,2),je=r(Ce);k(je,{variant:"secondary",size:"sm",fullWidth:!0,onclick:()=>oe(a(v)),children:(B,D)=>{f();var re=b("ü§ó Upload to Hub");i(B,re)},$$slots:{default:!0}});var Le=s(je,2);k(Le,{variant:"danger",size:"sm",onclick:()=>Q(a(v).id),children:(B,D)=>{f();var re=b("üóëÔ∏è");i(B,re)},$$slots:{default:!0}}),t(Ce),t(He),t(W),J((B,D)=>{F(we,a(v).name),F(c,a(v).base_model),F(ke,B),F(Te,D)},[()=>a(v).size_bytes?_(a(v).size_bytes):"Unknown",()=>E(a(v).created_at)]),i(ee,W)},$$slots:{default:!0}})}),t(m),i(n,m)};U(z,n=>{a(T).length===0?n(q):n(K,!1)},!0)}i(M,y)};U(p,M=>{a(R)?M(w):M(I,!1)},!0)}i(e,o)};U(_e,e=>{a($)?e(ye):e(be,!1)})}t(pe),t(X);var he=s(X,2);{var u=e=>{na(e,{get model(){return a(L)},onClose:()=>{l(G,!1),l(L,null)},onSuccess:ge,get isOpen(){return a(G)},set isOpen(o){l(G,o,!0)}})};U(he,e=>{a(L)&&e(u)})}i(S,O),Se()}export{$a as component};
