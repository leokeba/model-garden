import"../chunks/DsnmJJEf.js";import{p as Nt,a as Wt,o as At,f as M,h as Dt,l as T,b as d,c as Kt,t as F,e,i as a,$ as Lt,u as ut,n as G,g as r,r as t,s as A,m as f,d as h,j as _t,k as ft,z as It}from"../chunks/ZXdHezLC.js";import{i as J}from"../chunks/CnQbhIlQ.js";import{r as X,e as Rt,i as qt}from"../chunks/C2YVWTdS.js";import{b as O}from"../chunks/Bbu82ZTT.js";import{s as Ht,a as Jt}from"../chunks/DKxBrTuX.js";import{p as Ot}from"../chunks/hFxXD1UI.js";import{B as S,a as gt,C as D}from"../chunks/ByOzdI1s.js";var Qt=M('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"></div></div>'),Ut=M('<div class="text-center py-8"><p class="text-red-600 text-lg"> </p> <!></div>'),Vt=M('<div><h4 class="text-sm font-medium text-gray-700 mb-2">Generated Text</h4> <div class="p-4 bg-gray-50 border border-gray-200 rounded-lg"><p class="whitespace-pre-wrap text-gray-900"> </p></div></div>'),Xt=M('<div class="p-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Text Generation</h2> <div class="space-y-4"><div><label for="prompt" class="block text-sm font-medium text-gray-700 mb-2">Prompt</label> <textarea id="prompt" placeholder="Enter your prompt here..." rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none"></textarea></div> <div class="flex gap-4"><!> <!></div> <!></div></div>'),Yt=M('<div class="p-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Model Information</h2> <div class="grid grid-cols-2 gap-4"><div><dt class="text-sm font-medium text-gray-700">Name</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-700">Type</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-700">Size</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div><dt class="text-sm font-medium text-gray-700">Created</dt> <dd class="mt-1 text-sm text-gray-900"> </dd></div> <div class="col-span-2"><dt class="text-sm font-medium text-gray-700">Path</dt> <dd class="mt-1 text-sm text-gray-900 font-mono bg-gray-50 px-2 py-1 rounded"> </dd></div></div></div>'),Zt=M('<tr><td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900"> </td><td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-4 py-3 whitespace-nowrap text-sm text-gray-500"> </td></tr>'),te=M('<div class="p-6"><h2 class="text-xl font-semibold text-gray-900 mb-4">Model Files</h2> <div class="overflow-hidden"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">File</th><th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Size</th><th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Modified</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div></div>'),ee=M('<div class="p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Generation Settings</h3> <div class="space-y-4"><div><label for="max_length" class="block text-sm font-medium text-gray-700 mb-1">Max Length</label> <input type="number" id="max_length" min="1" max="1000" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"/></div> <div><label for="temperature" class="block text-sm font-medium text-gray-700 mb-1"> </label> <input type="range" id="temperature" min="0.1" max="2.0" step="0.1" class="w-full"/></div> <div><label for="top_p" class="block text-sm font-medium text-gray-700 mb-1"> </label> <input type="range" id="top_p" min="0.1" max="1.0" step="0.05" class="w-full"/></div> <div><label for="top_k" class="block text-sm font-medium text-gray-700 mb-1">Top K</label> <input type="number" id="top_k" min="1" max="100" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"/></div></div></div>'),re=M('<div class="p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Actions</h3> <div class="space-y-2"><!> <!> <!></div></div>'),ae=M('<div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"><!> <!> <!></div> <div class="space-y-6"><!> <!></div></div>'),se=M('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div class="flex items-center"><!> <h1 class="text-3xl font-bold text-gray-900 ml-4"> </h1></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div>');function ce(yt,ht){Nt(ht,!0);const bt=()=>Jt(Ot,"$page",$t),[$t,wt]=Ht(),C=ut(()=>bt().params.name);let $=A(null),Y=A(!0),K=A(""),j=A(""),E=A(!1),L=A(""),w=Wt({max_length:100,temperature:.7,top_p:.9,top_k:50});async function Z(){if(a(C))try{h(Y,!0);const s=await gt.getModel(a(C));h($,s,!0)}catch(s){h(K,s instanceof Error?s.message:"Failed to load model",!0)}finally{h(Y,!1)}}async function kt(){if(!(!a(j).trim()||!a(C)))try{h(E,!0),h(L,"");const s=await gt.generateText(a(C),{prompt:a(j).trim(),...w});s.success?h(L,s.data.generated_text,!0):h(K,"Failed to generate text")}catch(s){h(K,s instanceof Error?s.message:"Failed to generate text",!0)}finally{h(E,!1)}}function st(s){const z=["B","KB","MB","GB"];if(s===0)return"0 B";const N=Math.floor(Math.log(s)/Math.log(1024));return Math.round(s/Math.pow(1024,N)*100)/100+" "+z[N]}function dt(s){return new Date(s).toLocaleString()}At(()=>{Z()});var tt=se();Dt(s=>{T(()=>Lt.title=`Model: ${a(C)??""} - Model Garden`)});var et=e(tt),it=e(et),ot=e(it),lt=e(ot),vt=e(lt);S(vt,{href:"/models",variant:"ghost",size:"sm",children:(s,z)=>{G();var N=F("â† Models");d(s,N)},$$slots:{default:!0}});var nt=r(vt,2),Mt=e(nt,!0);t(nt),t(lt),t(ot),t(it),t(et);var pt=r(et,2),Pt=e(pt);{var Tt=s=>{var z=Qt();d(s,z)},zt=s=>{var z=_t(),N=ft(z);{var Bt=W=>{D(W,{children:(Q,mt)=>{var I=Ut(),B=e(I),R=e(B,!0);t(B);var q=r(B,2);S(q,{onclick:Z,variant:"primary",class:"mt-4",children:(U,rt)=>{G();var at=F("Try Again");d(U,at)},$$slots:{default:!0}}),t(I),T(()=>f(R,a(K))),d(Q,I)},$$slots:{default:!0}})},Ft=W=>{var Q=_t(),mt=ft(Q);{var I=B=>{var R=ae(),q=e(R),U=e(q);D(U,{children:(k,H)=>{var v=Xt(),p=r(e(v),2),l=e(p),m=r(e(l),2);It(m),t(l);var c=r(l,2),i=e(c);{let o=ut(()=>a(E)||!a(j).trim());S(i,{onclick:kt,variant:"primary",get loading(){return a(E)},get disabled(){return a(o)},children:(x,u)=>{G();var _=F();T(()=>f(_,a(E)?"Generating...":"Generate")),d(x,_)},$$slots:{default:!0}})}var g=r(i,2);S(g,{onclick:()=>{h(j,""),h(L,"")},variant:"secondary",get disabled(){return a(E)},children:(o,x)=>{G();var u=F("Clear");d(o,u)},$$slots:{default:!0}}),t(c);var n=r(c,2);{var y=o=>{var x=Vt(),u=r(e(x),2),_=e(u),P=e(_,!0);t(_),t(u),t(x),T(()=>f(P,a(L))),d(o,x)};J(n,o=>{a(L)&&o(y)})}t(p),t(v),O(m,()=>a(j),o=>h(j,o)),d(k,v)},$$slots:{default:!0}});var rt=r(U,2);D(rt,{children:(k,H)=>{var v=Yt(),p=r(e(v),2),l=e(p),m=r(e(l),2),c=e(m,!0);t(m),t(l);var i=r(l,2),g=r(e(i),2),n=e(g,!0);t(g),t(i);var y=r(i,2),o=r(e(y),2),x=e(o,!0);t(o),t(y);var u=r(y,2),_=r(e(u),2),P=e(_,!0);t(_),t(u);var b=r(u,2),V=r(e(b),2),Ct=e(V,!0);t(V),t(b),t(p),t(v),T((jt,Et)=>{f(c,a($).name),f(n,a($).type||"Fine-tuned Model"),f(x,jt),f(P,Et),f(Ct,a($).path)},[()=>st(a($).size_bytes||a($).size||0),()=>dt(a($).created_at)]),d(k,v)},$$slots:{default:!0}});var at=r(rt,2);{var Gt=k=>{D(k,{children:(H,v)=>{var p=te(),l=r(e(p),2),m=e(l),c=r(e(m));Rt(c,21,()=>a($).files,qt,(i,g)=>{var n=Zt(),y=e(n),o=e(y,!0);t(y);var x=r(y),u=e(x,!0);t(x);var _=r(x),P=e(_,!0);t(_),t(n),T((b,V)=>{f(o,a(g).name),f(u,b),f(P,V)},[()=>st(a(g).size),()=>dt(a(g).modified)]),d(i,n)}),t(c),t(m),t(l),t(p),d(H,p)},$$slots:{default:!0}})};J(at,k=>{a($).files&&a($).files.length>0&&k(Gt)})}t(q);var ct=r(q,2),xt=e(ct);D(xt,{children:(k,H)=>{var v=ee(),p=r(e(v),2),l=e(p),m=r(e(l),2);X(m),t(l);var c=r(l,2),i=e(c),g=e(i);t(i);var n=r(i,2);X(n),t(c);var y=r(c,2),o=e(y),x=e(o);t(o);var u=r(o,2);X(u),t(y);var _=r(y,2),P=r(e(_),2);X(P),t(_),t(p),t(v),T(()=>{f(g,`Temperature: ${w.temperature??""}`),f(x,`Top P: ${w.top_p??""}`)}),O(m,()=>w.max_length,b=>w.max_length=b),O(n,()=>w.temperature,b=>w.temperature=b),O(u,()=>w.top_p,b=>w.top_p=b),O(P,()=>w.top_k,b=>w.top_k=b),d(k,v)},$$slots:{default:!0}});var St=r(xt,2);D(St,{children:(k,H)=>{var v=re(),p=r(e(v),2),l=e(p);S(l,{href:"/training/new",variant:"primary",fullWidth:!0,children:(i,g)=>{G();var n=F("Train New Model");d(i,n)},$$slots:{default:!0}});var m=r(l,2);S(m,{onclick:Z,variant:"secondary",fullWidth:!0,children:(i,g)=>{G();var n=F("Refresh");d(i,n)},$$slots:{default:!0}});var c=r(m,2);S(c,{href:"/models",variant:"secondary",fullWidth:!0,children:(i,g)=>{G();var n=F("Back to Models");d(i,n)},$$slots:{default:!0}}),t(p),t(v),d(k,v)},$$slots:{default:!0}}),t(ct),t(R),d(B,R)};J(mt,B=>{a($)&&B(I)},!0)}d(W,Q)};J(N,W=>{a(K)?W(Bt):W(Ft,!1)},!0)}d(s,z)};J(Pt,s=>{a(Y)?s(Tt):s(zt,!1)})}t(pt),t(tt),T(()=>f(Mt,a(C))),d(yt,tt),Kt(),wt()}export{ce as component};
