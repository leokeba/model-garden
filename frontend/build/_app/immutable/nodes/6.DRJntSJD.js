import"../chunks/DsnmJJEf.js";import{v as Le,p as Ce,s as y,F as Oe,i as e,j as l,k as xe,l as se,c as o,d as je,f as m,e as r,g as s,r as t,m as N,n as x,w as Ne,q as z,t as M,u as ne,a as Re,o as Ie,h as qe,$ as Ke}from"../chunks/DLqH200v.js";import{p as We,i as $}from"../chunks/uQGPdJUk.js";import{a as Ye,r as Me,e as Ae,i as Ve}from"../chunks/BCgPi0gr.js";import{a as Be}from"../chunks/D-TMAApK.js";import{B as Je}from"../chunks/Dw1y8d7D.js";import{B as U,C as Qe}from"../chunks/3RODIbcq.js";import{b as $e,c as Xe}from"../chunks/DIKPUBCA.js";function Ze(D,v){D.target===D.currentTarget&&v()}var ea=(D,v)=>D.key==="Escape"&&v(),aa=m('<button class="text-gray-400 hover:text-gray-600 transition-colors" aria-label="Close"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),ta=m('<div class="text-center py-8"><div class="text-green-500 text-6xl mb-4">‚úì</div> <h3 class="text-xl font-bold text-gray-900 mb-2">Model Uploaded Successfully!</h3> <p class="text-gray-600 mb-4">Your model is now available on HuggingFace Hub</p> <a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 font-medium">View on HuggingFace Hub <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></div>'),ra=m('<div class="flex justify-between"><span class="text-gray-600">Size:</span> <span class="font-medium text-gray-900"> </span></div>'),sa=m('<div class="bg-red-50 border border-red-200 rounded-lg p-4"><div class="flex gap-3"><div class="text-red-600 text-xl">‚ùå</div> <div class="text-sm text-red-800"><p class="font-semibold mb-1">Upload failed:</p> <p> </p></div></div></div>'),ia=m(`<div class="bg-gray-50 rounded-lg p-4"><h3 class="text-sm font-semibold text-gray-700 mb-2">Model Details</h3> <div class="space-y-2 text-sm"><div class="flex justify-between"><span class="text-gray-600">Name:</span> <span class="font-medium text-gray-900"> </span></div> <div class="flex justify-between"><span class="text-gray-600">Base Model:</span> <span class="font-medium text-gray-900"> </span></div> <!></div></div> <div class="space-y-4"><div><label for="repo-id" class="block text-sm font-medium text-gray-700 mb-1">Repository ID <span class="text-red-500">*</span></label> <input id="repo-id" type="text" placeholder="username/model-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent" required/> <p class="mt-1 text-xs text-gray-500">Format: your-username/model-name (e.g.,
                                john/my-finetuned-model)</p></div> <div class="flex items-center"><input id="is-private" type="checkbox" class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"/> <label for="is-private" class="ml-2 block text-sm text-gray-700">Make repository private</label></div> <div><label for="commit-message" class="block text-sm font-medium text-gray-700 mb-1">Commit Message</label> <input id="commit-message" type="text" placeholder="Upload model from Model Garden" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"/></div> <div><label for="repo-description" class="block text-sm font-medium text-gray-700 mb-1">Repository Description</label> <textarea id="repo-description" rows="3" placeholder="Describe your model..." class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"></textarea></div></div> <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4"><div class="flex gap-3"><div class="text-yellow-600 text-xl">‚ö†Ô∏è</div> <div class="text-sm text-yellow-800"><p class="font-semibold mb-1">Before uploading:</p> <ul class="list-disc ml-4 space-y-1"><li>Make sure you have a HuggingFace account
                                        and your HF_TOKEN is configured</li> <li>Ensure you have the necessary
                                        permissions to create repositories</li> <li>The entire model directory will be
                                        uploaded (this may take some time)</li> <li>Public repositories will be visible to
                                        everyone on HuggingFace Hub</li></ul></div></div></div> <!>`,1),oa=m('<span class="flex items-center gap-2"><span class="inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></span> Uploading...</span>'),la=m('<div class="px-6 py-4 border-t border-gray-200 flex justify-end gap-3"><!> <!></div>'),da=m('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50" role="dialog" aria-modal="true" tabindex="-1"><div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"><div class="px-6 py-4 border-b border-gray-200 flex items-center justify-between"><div><h2 class="text-xl font-bold text-gray-900">Upload to HuggingFace Hub</h2> <p class="text-sm text-gray-500 mt-1">Share your model with the community</p></div> <!></div> <div class="px-6 py-4 space-y-6"><!></div> <!></div></div>');function na(D,v){Ce(v,!0);let T=We(v,"isOpen",11,!1),B=y(""),R=y(!1),E=y("Upload model from Model Garden"),G=y(`Model fine-tuned with Model Garden. Base model: ${v.model.base_model}`),g=y(!1),L=y(""),J=y(!1),ie=y("");Oe(()=>{if(T()&&!e(B)){const f=v.model.name.toLowerCase().replace(/[^a-z0-9-_]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");l(B,`username/${f}`)}});async function ve(){if(l(L,""),!e(B)||!e(B).includes("/")){l(L,'Repository ID must be in the format "username/repo-name"');return}l(g,!0);try{const f=await Be.uploadModelToHub(v.model.id,{repo_id:e(B),private:e(R),commit_message:e(E),repo_description:e(G)});l(J,!0),l(ie,f.url,!0),v.onSuccess&&v.onSuccess(f.url),setTimeout(()=>{P()},3e3)}catch(f){l(L,f instanceof Error?f.message:"Failed to upload model",!0)}finally{l(g,!1)}}function P(){e(g)||(l(J,!1),l(ie,""),l(L,""),v.onClose())}var Q=xe(),ce=se(Q);{var ue=f=>{var I=da();I.__click=[Ze,P],I.__keydown=[ea,P];var oe=r(I),X=r(oe),pe=s(r(X),2);{var ge=a=>{var i=aa();i.__click=P,o(a,i)};$(pe,a=>{e(g)||a(ge)})}t(X);var Z=s(X,2),_e=r(Z);{var ye=a=>{var i=ta(),d=s(r(i),6);t(i),N(()=>Ye(d,"href",e(ie))),o(a,i)},be=a=>{var i=ia(),d=se(i),C=s(r(d),2),j=r(C),b=s(r(j),2),F=r(b,!0);t(b),t(j);var h=s(j,2),O=s(r(h),2),q=r(O,!0);t(O),t(h);var w=s(h,2);{var c=u=>{var H=ra(),S=s(r(H),2),A=r(S);t(S),t(H),N(re=>z(A,`${re??""} GB`),[()=>(v.model.size_bytes/1073741824).toFixed(2)]),o(u,H)};$(w,u=>{v.model.size_bytes&&u(c)})}t(C),t(d);var _=s(d,2),n=r(_),ee=s(r(n),2);Me(ee),x(2),t(n);var ae=s(n,2),K=r(ae);Me(K),x(2),t(ae);var W=s(ae,2),Y=s(r(W),2);Me(Y),t(W);var te=s(W,2),le=s(r(te),2);Ne(le),t(te),t(_);var me=s(_,4);{var ke=u=>{var H=sa(),S=r(H),A=s(r(S),2),re=s(r(A),2),fe=r(re,!0);t(re),t(A),t(S),t(H),N(()=>z(fe,e(L))),o(u,H)};$(me,u=>{e(L)&&u(ke)})}N(()=>{z(F,v.model.name),z(q,v.model.base_model),ee.disabled=e(g),K.disabled=e(g),Y.disabled=e(g),le.disabled=e(g)}),$e(ee,()=>e(B),u=>l(B,u)),Xe(K,()=>e(R),u=>l(R,u)),$e(Y,()=>e(E),u=>l(E,u)),$e(le,()=>e(G),u=>l(G,u)),o(a,i)};$(_e,a=>{e(J)?a(ye):a(be,!1)})}t(Z);var he=s(Z,2);{var we=a=>{var i=la(),d=r(i);U(d,{variant:"secondary",onclick:P,get disabled(){return e(g)},children:(j,b)=>{x();var F=M("Cancel");o(j,F)},$$slots:{default:!0}});var C=s(d,2);{let j=ne(()=>e(g)||!e(B));U(C,{variant:"primary",onclick:ve,get disabled(){return e(j)},children:(b,F)=>{var h=xe(),O=se(h);{var q=c=>{var _=oa();o(c,_)},w=c=>{var _=M("üöÄ Upload to Hub");o(c,_)};$(O,c=>{e(g)?c(q):c(w,!1)})}o(b,h)},$$slots:{default:!0}})}t(i),o(a,i)};$(he,a=>{e(J)||a(we)})}t(oe),t(I),o(f,I)};$(ce,f=>{T()&&f(ue)})}o(D,Q),je()}Le(["click","keydown"]);var va=m('<div class="text-center py-12"><div class="inline-block w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"></div> <p class="mt-2 text-gray-600">Loading models...</p></div>'),ca=m('<div class="text-center py-12"><div class="text-red-600 text-lg"> </div> <!></div>'),ua=m('<div class="text-center py-12"><div class="text-gray-400 text-6xl mb-4">üì¶</div> <h3 class="text-xl font-semibold text-gray-900 mb-2">No models yet</h3> <p class="text-gray-500 mb-6">Start by training your first model to see it here.</p> <!></div>'),pa=m('<span class="text-green-600"> </span>'),ma=m('<span class="text-red-600">‚úó Missing</span>'),fa=m('<div class="space-y-4"><div class="flex items-start justify-between"><div><h3 class="text-lg font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div> <!></div> <div class="grid grid-cols-2 gap-4"><div><div class="text-xs text-gray-500">Size</div> <div class="font-medium"> </div></div> <div><div class="text-xs text-gray-500">Files</div> <div class="font-medium"><!></div></div></div> <div class="space-y-2 pt-2 border-t"><!> <div class="flex gap-2"><!> <!></div></div></div>'),xa=m('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),ga=m('<div class="min-h-screen bg-gray-50"><div class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center py-6"><div class="flex items-center"><!> <h1 class="text-3xl font-bold text-gray-900 ml-4">Models</h1></div> <div class="flex gap-3"><!> <!> <!></div></div></div></div> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></div></div> <!>',1);function Ba(D,v){Ce(v,!0);let T=y(Re([])),B=y(!0),R=y(""),E=y(!1),G=y(null);Ie(async()=>{try{const a=await Be.getModels();l(T,a.items,!0)}catch(a){l(R,a instanceof Error?a.message:"Failed to load models",!0)}finally{l(B,!1)}});function g(a){if(a===0)return"0 Bytes";const i=1024,d=["Bytes","KB","MB","GB"],C=Math.floor(Math.log(a)/Math.log(i));return parseFloat((a/Math.pow(i,C)).toFixed(2))+" "+d[C]}async function L(a){if(confirm("Are you sure you want to delete this model?"))try{await Be.deleteModel(a),l(T,e(T).filter(i=>i.id!==a),!0)}catch(i){alert("Failed to delete model: "+(i instanceof Error?i.message:"Unknown error"))}}function J(a){l(G,a,!0),l(E,!0)}function ie(a){console.log("Model uploaded successfully:",a)}var ve=ga();qe(a=>{Ke.title="Models - Model Garden"});var P=se(ve),Q=r(P),ce=r(Q),ue=r(ce),f=r(ue),I=r(f);U(I,{href:"/",variant:"ghost",size:"sm",children:(a,i)=>{x();var d=M("‚Üê Dashboard");o(a,d)},$$slots:{default:!0}}),x(2),t(f);var oe=s(f,2),X=r(oe);U(X,{href:"/models/browse",variant:"secondary",children:(a,i)=>{x();var d=M("ü§ó Browse HuggingFace");o(a,d)},$$slots:{default:!0}});var pe=s(X,2);U(pe,{href:"/models/load",variant:"secondary",children:(a,i)=>{x();var d=M("üîå Load Model");o(a,d)},$$slots:{default:!0}});var ge=s(pe,2);U(ge,{href:"/training/new",variant:"primary",children:(a,i)=>{x();var d=M("+ Train New Model");o(a,d)},$$slots:{default:!0}}),t(oe),t(ue),t(ce),t(Q);var Z=s(Q,2),_e=r(Z);{var ye=a=>{var i=va();o(a,i)},be=a=>{var i=xe(),d=se(i);{var C=b=>{var F=ca(),h=r(F),O=r(h,!0);t(h);var q=s(h,2);U(q,{onclick:()=>window.location.reload(),variant:"primary",class:"mt-4",children:(w,c)=>{x();var _=M("Retry");o(w,_)},$$slots:{default:!0}}),t(F),N(()=>z(O,e(R))),o(b,F)},j=b=>{var F=xe(),h=se(F);{var O=w=>{var c=ua(),_=s(r(c),6);U(_,{href:"/training/new",variant:"primary",children:(n,ee)=>{x();var ae=M("Train Your First Model");o(n,ae)},$$slots:{default:!0}}),t(c),o(w,c)},q=w=>{var c=xa();Ae(c,21,()=>e(T),Ve,(_,n)=>{Qe(_,{hoverable:!0,children:(ee,ae)=>{var K=fa(),W=r(K),Y=r(W),te=r(Y),le=r(te,!0);t(te);var me=s(te,2),ke=r(me,!0);t(me),t(Y);var u=s(Y,2);{let p=ne(()=>e(n).status==="available"?"success":"warning");Je(u,{get variant(){return e(p)},children:(k,V)=>{x();var de=M();N(()=>z(de,e(n).status)),o(k,de)},$$slots:{default:!0}})}t(W);var H=s(W,2),S=r(H),A=s(r(S),2),re=r(A,!0);t(A),t(S);var fe=s(S,2),Fe=s(r(fe),2),Se=r(Fe);{var De=p=>{var k=pa(),V=r(k);t(k),N(()=>z(V,`‚úì ${(e(n).file_count||0)??""}`)),o(p,k)},Te=p=>{var k=ma();o(p,k)};$(Se,p=>{e(n).file_exists?p(De):p(Te,!1)})}t(Fe),t(fe),t(H);var He=s(H,2),Ue=r(He);{let p=ne(()=>`/models/load?model=${encodeURIComponent(e(n).path)}`);U(Ue,{get href(){return e(p)},variant:"primary",size:"sm",fullWidth:!0,children:(k,V)=>{x();var de=M("üîå Load for Inference");o(k,de)},$$slots:{default:!0}})}var ze=s(Ue,2),Pe=r(ze);{let p=ne(()=>!e(n).file_exists),k=ne(()=>e(n).file_exists?"Upload model to HuggingFace Hub":"Model files not found on disk");U(Pe,{variant:"secondary",size:"sm",fullWidth:!0,onclick:()=>J(e(n)),get disabled(){return e(p)},get title(){return e(k)},children:(V,de)=>{x();var Ge=M("ü§ó Upload to Hub");o(V,Ge)},$$slots:{default:!0}})}var Ee=s(Pe,2);U(Ee,{variant:"danger",size:"sm",onclick:()=>L(e(n).id),children:(p,k)=>{x();var V=M("üóëÔ∏è");o(p,V)},$$slots:{default:!0}}),t(ze),t(He),t(K),N(p=>{z(le,e(n).name),z(ke,e(n).base_model),z(re,p)},[()=>e(n).size_bytes?g(e(n).size_bytes):"Unknown"]),o(ee,K)},$$slots:{default:!0}})}),t(c),o(w,c)};$(h,w=>{e(T).length===0?w(O):w(q,!1)},!0)}o(b,F)};$(d,b=>{e(R)?b(C):b(j,!1)},!0)}o(a,i)};$(_e,a=>{e(B)?a(ye):a(be,!1)})}t(Z),t(P);var he=s(P,2);{var we=a=>{na(a,{get model(){return e(G)},onClose:()=>{l(E,!1),l(G,null)},onSuccess:ie,get isOpen(){return e(E)},set isOpen(i){l(E,i,!0)}})};$(he,a=>{e(G)&&a(we)})}o(D,ve),je()}export{Ba as component};
